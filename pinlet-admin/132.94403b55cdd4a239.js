"use strict";(self.webpackChunkngx_admin_demo=self.webpackChunkngx_admin_demo||[]).push([[132],{75132:(G,h,l)=>{l.r(h),l.d(h,{PlaceDetailModule:()=>N});var S=l(9434),d=l(36895),u=l(7672),I=l(14019),_=l(46609),e=l(30551),o=l(36517),f=l(42658),p=l(12368),a=l(24006);let v=(()=>{class n{constructor(t,i,r){this._formBuilder=t,this._placeService=i,this._toastrService=r,this.afterSave=new e.EventEmitter,this.cancel=new e.EventEmitter,this.initForm(this.placeId)}ngOnInit(){this.primarioId&&this.getPrimario()}ngOnChanges(t){t?.placeId?.currentValue&&(this.placeId=t?.placeId?.currentValue,this.primarioForm.get("id_lugar").setValue(this.placeId))}initForm(t){this.primarioForm=this._formBuilder.group({id_lugar:[t,a.kI.required],id_primario:[""],nombre:["",a.kI.required],usuario_creacion:["admin",a.kI.required]})}getPrimario(){this._placeService.getPrimarioById({id_primario:this.primarioId}).subscribe({next:i=>{this.primarioForm.patchValue(i),this.primarioForm.patchValue({nombre:i.nombre_primario})},error:()=>{this.showToast("danger","Error al consultar primario")}})}savePrimario(){this.primarioId?this.updatePrimario():this.createPrimario()}createPrimario(){this._placeService.createPrimario(this.primarioForm.value).subscribe({next:()=>{this.showToast("success","Primario creado"),this.afterSave.emit()},error:()=>{this.showToast("danger","Error al crear primario")}})}updatePrimario(){const{usuario_creacion:t,...i}=this.primarioForm.value,r={...i,usuario_modificacion:"admin"};this._placeService.updatePrimario(r).subscribe({next:()=>{this.showToast("success","Primario actualizado"),this.afterSave.emit()},error:()=>{this.showToast("danger","Error al actualizar primario")}})}showToast(t,i){this._toastrService.show("",i,{status:t,destroyByClick:!0,duration:3e3,hasIcon:!1,position:o.fe3.TOP_RIGHT,preventDuplicates:!0})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(a.qu),e.\u0275\u0275directiveInject(p.k),e.\u0275\u0275directiveInject(o.quB))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ngx-primario-form"]],inputs:{placeId:"placeId",primarioId:"primarioId"},outputs:{afterSave:"afterSave",cancel:"cancel"},features:[e.\u0275\u0275NgOnChangesFeature],decls:7,vars:2,consts:[[1,"form-inline","w-100","justify-content-between",3,"formGroup"],["type","text","nbInput","","fullwidth","","fieldSize","small","placeholder","Nombre","formControlName","nombre"],[1,"d-flex","align-items-center"],["nbButton","","size","small","status","info",3,"disabled","click"],[1,"pl-2","cursor-pointer",3,"click"],[1,"custom-icon","nb-close"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"form",0),e.\u0275\u0275element(1,"input",1),e.\u0275\u0275elementStart(2,"div",2)(3,"button",3),e.\u0275\u0275listener("click",function(){return i.savePrimario()}),e.\u0275\u0275text(4,"Guardar"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"a",4),e.\u0275\u0275listener("click",function(){return i.cancel.emit()}),e.\u0275\u0275element(6,"i",5),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275property("formGroup",i.primarioForm),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",!i.primarioForm.valid))},dependencies:[a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,o.DPz,o.h8i],styles:[".custom-icon[_ngcontent-%COMP%]{display:inline-block;font-size:28px}"]}),n})(),b=(()=>{class n{constructor(t,i,r){this._formBuilder=t,this._placeService=i,this._toastrService=r,this.afterSave=new e.EventEmitter,this.cancel=new e.EventEmitter,this.initForm(this.primarioId)}ngOnInit(){this.secundarioId&&this.getSecundario()}ngOnChanges(t){t?.primarioId?.currentValue&&(this.primarioId=t?.primarioId?.currentValue,this.secundarioForm.get("id_primario").setValue(this.primarioId))}initForm(t){this.secundarioForm=this._formBuilder.group({id_primario:[t,a.kI.required],id_secundario:[""],nombre:["",a.kI.required],usuario_creacion:["admin",a.kI.required]})}getSecundario(){this._placeService.getSecundarioById({id_secundario:this.secundarioId}).subscribe({next:i=>{this.secundarioForm.patchValue(i),this.secundarioForm.patchValue({nombre:i.nombre_secundario})},error:()=>{this.showToast("danger","Error al consultar secundario")}})}saveSecundario(){this.secundarioId?this.updateSecundario():this.createSecundario()}createSecundario(){this._placeService.createSecundario(this.secundarioForm.value).subscribe({next:()=>{this.showToast("success","Secundario creado"),this.afterSave.emit()},error:()=>{this.showToast("danger","Error al crear secundario")}})}updateSecundario(){const{usuario_creacion:t,...i}=this.secundarioForm.value,r={...i,usuario_modificacion:"admin"};this._placeService.updateSecundario(r).subscribe({next:()=>{this.showToast("success","Secundario actualizado"),this.afterSave.emit()},error:()=>{this.showToast("danger","Error al actualizar secundario")}})}showToast(t,i){this._toastrService.show("",i,{status:t,destroyByClick:!0,duration:3e3,hasIcon:!1,position:o.fe3.TOP_RIGHT,preventDuplicates:!0})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(a.qu),e.\u0275\u0275directiveInject(p.k),e.\u0275\u0275directiveInject(o.quB))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ngx-secundario-form"]],inputs:{primarioId:"primarioId",secundarioId:"secundarioId"},outputs:{afterSave:"afterSave",cancel:"cancel"},features:[e.\u0275\u0275NgOnChangesFeature],decls:7,vars:2,consts:[[1,"form-inline","w-100","justify-content-between",3,"formGroup"],["type","text","nbInput","","fullwidth","","fieldSize","small","placeholder","Nombre","formControlName","nombre"],[1,"d-flex","align-items-center"],["nbButton","","size","small","status","info",3,"disabled","click"],[1,"pl-2","cursor-pointer",3,"click"],[1,"custom-icon","nb-close"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"form",0),e.\u0275\u0275element(1,"input",1),e.\u0275\u0275elementStart(2,"div",2)(3,"button",3),e.\u0275\u0275listener("click",function(){return i.saveSecundario()}),e.\u0275\u0275text(4,"Guardar"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"a",4),e.\u0275\u0275listener("click",function(){return i.cancel.emit()}),e.\u0275\u0275element(6,"i",5),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275property("formGroup",i.secundarioForm),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",!i.secundarioForm.valid))},dependencies:[a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,o.DPz,o.h8i],styles:[".custom-icon[_ngcontent-%COMP%]{display:inline-block;font-size:28px}"]}),n})();function x(n,s){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",6),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(r.showSecundarioForm=!0)}),e.\u0275\u0275text(1," Agregar nuevo "),e.\u0275\u0275element(2,"nb-icon",7),e.\u0275\u0275elementEnd()}}function C(n,s){if(1&n&&(e.\u0275\u0275elementStart(0,"nb-list-item",4),e.\u0275\u0275template(1,x,3,0,"button",5),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(),i=e.\u0275\u0275reference(9);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.showSecundarioForm)("ngIfElse",i)}}function P(n,s){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"button",10),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext().$implicit,c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.selectSecundario(r.id_secundario))}),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",11)(4,"a",12),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext().$implicit,c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.editSecundario(r.id_secundario))}),e.\u0275\u0275element(5,"i",13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"a",12),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext().$implicit,c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.onDelete(r.id_secundario))}),e.\u0275\u0275element(7,"i",14),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()}if(2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.nombre_secundario," ")}}const w=function(n){return{selected:n}};function y(n,s){if(1&n&&(e.\u0275\u0275elementStart(0,"nb-list-item",8),e.\u0275\u0275template(1,P,8,1,"ng-container",9),e.\u0275\u0275elementEnd()),2&n){const t=s.$implicit,i=e.\u0275\u0275nextContext(),r=e.\u0275\u0275reference(9);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(3,w,i.selectedSecundario===t.id_secundario&&i.selectedSecundario!==i.editId)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.selectedSecundario!==t.id_secundario||!i.editId)("ngIfElse",r)}}function F(n,s){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ngx-secundario-form",15),e.\u0275\u0275listener("afterSave",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return r.resetSelection(),e.\u0275\u0275resetView(r.getSecundario())})("cancel",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.resetSelection())}),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("primarioId",t.primarioId)("secundarioId",t.selectedSecundario)}}let k=(()=>{class n{constructor(t,i,r){this._placeService=t,this._dialogService=i,this._toastrService=r,this.selectItem=new e.EventEmitter,this.secundarioList=[],this.showSecundarioForm=!1}ngOnChanges(t){t?.primarioId?.currentValue?(this.primarioId=t?.primarioId?.currentValue,this.getSecundario()):this.secundarioList=[]}getSecundario(){this._placeService.getSecundarios({id_usuario:1,id_primario:this.primarioId}).subscribe({next:i=>{this.secundarioList=i.filter(r=>"A"===r.estado)}})}editSecundario(t){this.selectedSecundario=t,this.editId=t}onDelete(t){this._dialogService.open(f.S,{context:{title:"\xbfEst\xe1 seguro de borrar el registro?"}}).onClose.subscribe({next:i=>{i&&this.deleteSecundario(t)}})}deleteSecundario(t){this._placeService.deleteSecundario({id_secundario:t,usuario_modificacion:"admin"}).subscribe({next:()=>{this.showToast("success","Secundario eliminado"),this.getSecundario(),this.resetSelection()},error:()=>{this.showToast("danger","Error al eliminar secundario")}})}selectSecundario(t){this.selectedSecundario=t,this.selectItem.emit(this.selectedSecundario)}resetSelection(){this.selectedSecundario=null,this.showSecundarioForm=!1,this.editId=null}showToast(t,i){this._toastrService.show("",i,{status:t,destroyByClick:!0,duration:3e3,hasIcon:!1,position:o.fe3.TOP_RIGHT,preventDuplicates:!0})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(p.k),e.\u0275\u0275directiveInject(o.Gln),e.\u0275\u0275directiveInject(o.quB))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ngx-secundario-list"]],inputs:{primarioId:"primarioId"},outputs:{selectItem:"selectItem"},features:[e.\u0275\u0275NgOnChangesFeature],decls:10,vars:2,consts:[[1,"w-100","d-flex","justify-content-between"],["class","contact py-2",4,"ngIf"],["class","contact my-1 py-2",3,"ngClass",4,"ngFor","ngForOf"],["secundarioForm",""],[1,"contact","py-2"],["nbButton","","fullWidth","","ghost","",3,"click",4,"ngIf","ngIfElse"],["nbButton","","fullWidth","","ghost","",3,"click"],["icon","plus-outline"],[1,"contact","my-1","py-2",3,"ngClass"],[4,"ngIf","ngIfElse"],["nbButton","","appearance","filled","ghost","","nbStepperNext","",1,"flex-grow-1","cursor-pointer","justify-content-start",3,"click"],[1,"d-flex","justify-content-end"],[1,"cursor-pointer",3,"click"],[1,"custom-icon","nb-edit"],[1,"custom-icon","nb-trash"],[1,"w-100",3,"primarioId","secundarioId","afterSave","cancel"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"nb-card")(1,"nb-card-header",0)(2,"h5"),e.\u0275\u0275text(3,"Secundario"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"nb-card-body")(5,"nb-list"),e.\u0275\u0275template(6,C,2,2,"nb-list-item",1),e.\u0275\u0275template(7,y,2,5,"nb-list-item",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(8,F,1,2,"ng-template",null,3,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()()),2&t&&(e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",!!i.primarioId),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",i.secundarioList))},dependencies:[d.mk,d.sg,d.O5,o.Asz,o.yKW,o.ndF,o.DPz,o.zP_,o.qBV,o.fMN,o.rAx,b],styles:[".custom-icon[_ngcontent-%COMP%]{display:inline-block;font-size:28px}"]}),n})();function T(n,s){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",12),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.showPrimarioForm=!0)}),e.\u0275\u0275text(1," Agregar nuevo "),e.\u0275\u0275element(2,"nb-icon",13),e.\u0275\u0275elementEnd()}}function E(n,s){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"button",17),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext().$implicit,c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.selectPrimario(r.id_primario))}),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",18)(4,"a",19),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext().$implicit,c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.editPrimario(r.id_primario))}),e.\u0275\u0275element(5,"i",20),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"a",19),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext().$implicit,c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.onDelete(r.id_primario))}),e.\u0275\u0275element(7,"i",21),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()}if(2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.nombre_primario," ")}}const V=function(n){return{selected:n}};function L(n,s){if(1&n&&(e.\u0275\u0275elementStart(0,"nb-list-item",14)(1,"div",15),e.\u0275\u0275template(2,E,8,1,"ng-container",16),e.\u0275\u0275elementEnd()()),2&n){const t=s.$implicit,i=e.\u0275\u0275nextContext(),r=e.\u0275\u0275reference(12);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(3,V,i.selectedPrimario===t.id_primario&&i.selectedPrimario!==i.editId)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.selectedPrimario!==t.id_primario||!i.editId)("ngIfElse",r)}}function B(n,s){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ngx-primario-form",22),e.\u0275\u0275listener("afterSave",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return r.resetSelection(),e.\u0275\u0275resetView(r.getPrimario())})("cancel",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.resetSelection())}),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("placeId",t.placeId)("primarioId",t.selectedPrimario)}}function j(n,s){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"ngx-secundario-list",23),e.\u0275\u0275listener("selectItem",function(r){e.\u0275\u0275restoreView(t);const c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.selectSecundario(r))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("primarioId",t.selectedPrimario)}}function z(n,s){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"ngx-residents-list",24),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("placeId",t.placeId)("secundarioId",t.selectedSecundario)}}let D=(()=>{class n{constructor(t,i,r,c){this._activatedRoute=t,this._placeService=i,this._dialogService=r,this._toastrService=c,this.selectItem=new e.EventEmitter,this.primarioList=[],this.showPrimarioForm=!1,this.showSecundarioForm=!1,this.secundarioList=[];const g=this._activatedRoute.parent.snapshot.paramMap.get("placeId");g&&(this.placeId=parseInt(g))}ngOnInit(){this.getPrimario()}getPrimario(){this._placeService.getPrimarios({id_usuario:1,id_lugar:this.placeId}).subscribe({next:i=>{this.primarioList=i.filter(r=>"A"===r.estado)}})}editPrimario(t){this.selectedPrimario=t,this.editId=t}onDelete(t){this._dialogService.open(f.S,{context:{title:"\xbfEst\xe1 seguro de borrar el registro?"}}).onClose.subscribe({next:i=>{i&&this.deletePrimario(t)}})}deletePrimario(t){this._placeService.deletePrimario({id_primario:t,usuario_modificacion:"admin"}).subscribe({next:()=>{this.showToast("success","Primario eliminado"),this.getPrimario(),this.resetSelection()},error:()=>{this.showToast("danger","Error al eliminar primario")}})}resetSelection(){this.selectedPrimario=null,this.selectedSecundario=null,this.showPrimarioForm=!1,this.editId=null,this.selectItem.emit(this.selectedPrimario)}selectPrimario(t){this.selectedPrimario=t,this.selectItem.emit(this.selectedPrimario)}selectSecundario(t){this.selectedSecundario=t}showToast(t,i){this._toastrService.show("",i,{status:t,destroyByClick:!0,duration:3e3,hasIcon:!1,position:o.fe3.TOP_RIGHT,preventDuplicates:!0})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(u.gz),e.\u0275\u0275directiveInject(p.k),e.\u0275\u0275directiveInject(o.Gln),e.\u0275\u0275directiveInject(o.quB))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ngx-primario-list"]],inputs:{placeId:"placeId"},outputs:{selectItem:"selectItem"},decls:23,vars:6,consts:[["orientation","horizontal",3,"disableStepNavigation"],["label","Primario"],[1,"w-100","d-flex","justify-content-between"],[1,"contact","py-2"],["nbButton","","fullWidth","","ghost","",3,"click",4,"ngIf","ngIfElse"],["class","contact my-1 py-2",3,"ngClass",4,"ngFor","ngForOf"],["primarioForm",""],["label","Secundario"],["nbButton","","appearance","filled","ghost","","size","tiny","nbStepperPrevious","",1,"d-flex","cursor-pointer","no-hover",3,"click"],[1,"custom-icon","nb-arrow-left"],[4,"ngIf"],["label","Residentes"],["nbButton","","fullWidth","","ghost","",3,"click"],["icon","plus-outline"],[1,"contact","my-1","py-2",3,"ngClass"],[1,"w-100","d-flex","justify-content-between","align-items-center"],[4,"ngIf","ngIfElse"],["nbButton","","appearance","filled","ghost","","nbStepperNext","",1,"flex-grow-1","cursor-pointer","justify-content-start",3,"click"],[1,"d-flex","justify-content-end"],[1,"cursor-pointer",3,"click"],[1,"custom-icon","nb-edit"],[1,"custom-icon","nb-trash"],[1,"w-100",3,"placeId","primarioId","afterSave","cancel"],[3,"primarioId","selectItem"],[3,"placeId","secundarioId"]],template:function(t,i){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-stepper",0)(1,"nb-step",1)(2,"nb-card")(3,"nb-card-header",2)(4,"h5"),e.\u0275\u0275text(5,"Primario"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"nb-card-body")(7,"nb-list")(8,"nb-list-item",3),e.\u0275\u0275template(9,T,3,0,"button",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,L,3,5,"nb-list-item",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(11,B,1,2,"ng-template",null,6,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(13,"nb-step",7)(14,"button",8),e.\u0275\u0275listener("click",function(){return i.selectedPrimario=null}),e.\u0275\u0275element(15,"i",9),e.\u0275\u0275text(16," Volver "),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(17,j,2,1,"ng-container",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"nb-step",11)(19,"button",8),e.\u0275\u0275listener("click",function(){return i.selectedSecundario=null}),e.\u0275\u0275element(20,"i",9),e.\u0275\u0275text(21," Volver "),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(22,z,2,2,"ng-container",10),e.\u0275\u0275elementEnd()()),2&t){const r=e.\u0275\u0275reference(12);e.\u0275\u0275property("disableStepNavigation",!0),e.\u0275\u0275advance(9),e.\u0275\u0275property("ngIf",!i.showPrimarioForm)("ngIfElse",r),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",i.primarioList),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngIf",i.selectedPrimario&&!i.editId),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",i.selectedSecundario)}},dependencies:[d.mk,d.sg,d.O5,o.Asz,o.yKW,o.ndF,o.DPz,o.zP_,o.qBV,o.fMN,o.TLo,o.Sv4,o.rAx,o.HFZ,v,k],styles:[".contact.selected[_ngcontent-%COMP%]{background-color:#edf1f7}.custom-icon[_ngcontent-%COMP%]{display:inline-block;font-size:28px}[_nghost-%COMP%]     nb-stepper .header{display:none}[_nghost-%COMP%]     [nbButton].appearance-ghost.status-basic:hover, .appearance-ghost.status-basic[nbButtonToggle][_ngcontent-%COMP%]:hover{background-color:transparent}"]}),n})();var m=(()=>{return(n=m||(m={}))[n.residentesPendientes=1]="residentesPendientes",n[n.residentesActivos=2]="residentesActivos",n[n.residentesInactivos=3]="residentesInactivos",n[n.anuncios=4]="anuncios",n[n.primariosSecundarios=5]="primariosSecundarios",m;var n})();let $=(()=>{class n{constructor(t,i,r){this._placeService=t,this._activatedRoute=i,this._router=r,this.menu=[],this.tabs=[],this.placeId=parseInt(this._activatedRoute.snapshot.paramMap.get("placeId")),this.place=this._placeService.place$,this.menu=[{title:"Informaci\xf3n del lugar",icon:"list-outline",link:`/pages/lugares/${this.placeId}`,home:!0},{title:"Primarios y secundarios",icon:"grid-outline",link:`/pages/lugares/${this.placeId}/primario-secundario`,home:!1},{title:"Residentes aprobados",icon:"checkmark-outline",link:`/pages/lugares/${this.placeId}/residentes`,home:!1},{title:"Residentes pendientes",icon:"alert-circle-outline",link:`/pages/lugares/${this.placeId}/residentes/pendientes`,home:!1}],this.tabs=[{title:"Informaci\xf3n del lugar",route:`/pages/lugares/${this.placeId}`},{title:"Primarios y secundarios",route:`/pages/lugares/${this.placeId}/primario-secundario`,disabled:!this.isActive(m.primariosSecundarios)},{title:"Residentes pendientes",route:`/pages/lugares/${this.placeId}/residentes/pendientes`,disabled:!this.isActive(m.residentesPendientes)},{title:"Residentes aprobados",route:`/pages/lugares/${this.placeId}/residentes`,disabled:!this.isActive(m.residentesActivos)},{title:"Residentes inactivos",route:`/pages/lugares/${this.placeId}/residentes/inactivos`,disabled:!this.isActive(m.residentesInactivos)},{title:"Anuncios",route:`/pages/lugares/${this.placeId}/anuncios`,disabled:!this.isActive(m.anuncios)},{title:"Reportes",route:`/pages/lugares/${this.placeId}/reportes`,disabled:!this.isActive(m.anuncios)}]}isActive(t){return"A"==this.place?.opciones.find(r=>r.id_opcion==t)?.estado}goBack(){this._router.navigateByUrl("/pages/lugares")}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(p.k),e.\u0275\u0275directiveInject(u.gz),e.\u0275\u0275directiveInject(u.F0))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ngx-place-detail"]],decls:7,vars:1,consts:[[1,"w-100","d-flex","align-items-center"],[1,"d-flex","cursor-pointer","no-hover","pr-2","h5","m-0",3,"click"],[1,"custom-icon","nb-arrow-left"],[3,"tabs"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"nb-card")(1,"nb-card-header",0)(2,"a",1),e.\u0275\u0275listener("click",function(){return i.goBack()}),e.\u0275\u0275element(3,"i",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"h5"),e.\u0275\u0275text(5,"Lugares"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(6,"nb-route-tabset",3),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(6),e.\u0275\u0275property("tabs",i.tabs))},dependencies:[o.Asz,o.ndF,o.l0$],encapsulation:2}),n})();var A=l(41288),M=l(40275);const R=[{path:"",component:$,children:[{path:"",component:I.C},{path:"residentes",component:_.o,data:{status:["A"]}},{path:"residentes/pendientes",component:_.o,data:{status:["P"]}},{path:"residentes/inactivos",component:_.o,data:{status:["I","R","E"]}},{path:"primario-secundario",component:D},{path:"anuncios",component:A.n},{path:"reportes",component:M.b}]}];let O=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[u.Bz.forChild(R),d.ez,u.Bz]}),n})(),N=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[S.O,O,o.zyh,o.j5J,o._WB]}),n})()}}]);