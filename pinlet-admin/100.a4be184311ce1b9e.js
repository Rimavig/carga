"use strict";(self.webpackChunkngx_admin_demo=self.webpackChunkngx_admin_demo||[]).push([[100],{99100:(se,I,d)=>{d.r(I),d.d(I,{AdminsModule:()=>ne});var g=d(36895),_=d(7672),e=d(94650),k=d(20732);let E=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ngx-admins"]],decls:2,vars:0,template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"ngx-no-padding-layout"),e.\u0275\u0275element(1,"router-outlet"),e.\u0275\u0275elementEnd())},dependencies:[k.F,_.lC],encapsulation:2}),n})();var x=d(15861),v=d(74385),b=d(36749),S=d(42658),y=d(92340),U=d(80529);let C=(()=>{class n{constructor(t){this.http=t,this.apiUrl=y.N.apiUrl}create(t){return this.http.post(`${this.apiUrl}/insertUsuarioAdmin`,t)}getAlls(t){return this.http.post(`${this.apiUrl}/getAllUsuarioAdmin`,t)}getById(t){return this.http.post(`${this.apiUrl}/getUsuarioAdmin`,t)}update(t){return this.http.post(`${this.apiUrl}/updateUsuarioAdmin`,t)}updateStatus(t){return this.http.post(`${this.apiUrl}/updateEstadoUsuarioAdmin`,t)}updateTipo(t){return this.http.post(`${this.apiUrl}/updateTipoUsuarioAdmin`,t)}reseteoClaveUsuarioAdmin(t){return this.http.post(`${this.apiUrl}/reseteoClaveUsuarioAdmin`,t)}deleteUsuarioAdmin(t){return this.http.post(`${this.apiUrl}/deleteUsuarioAdmin`,t)}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275inject(U.eN))},n.\u0275prov=e.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var o=d(36517),f=d(88270),T=d(37556);const L=["password"];function F(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"div",5)(1,"h6"),e.\u0275\u0275text(2,"Clave temporal del usuario"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"p",6),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd()()),2&n){const t=r.$implicit;e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(t)}}let O=(()=>{class n{constructor(t,i,s,a,c,p){this._router=t,this._adminService=i,this._dialogService=s,this._toastrService=a,this._utilsService=c,this._authService=p,this.settings={actions:{position:"right",add:!1,edit:!1,delete:!1,custom:[{name:"edit",title:'<i class="nb-edit"></i>'},{name:"resetPassword",title:'<img src="./assets/images/key-outline.svg" title="Restablecer contrase\xf1a">'},{name:"places",title:'<i class="nb-location" title="Lugares"></i>'},{name:"delete",title:'<i class="nb-trash"></i>'}]},columns:{nombres:{title:"Nombres",type:"string"},apellidos:{title:"Apellidos",type:"string"},usuario:{title:"Usuario",type:"string"},correo:{title:"Correo",type:"string"},celular:{title:"Celular",type:"string"},estado:{title:"Estado",type:"custom",renderComponent:b.P,onComponentInitFunction:m=>{m.toggle.subscribe(u=>{this.updateStatus(u.row.id_usuario_admin,u.value?"A":"I")})}},tipo:{title:"Super Admin",type:"custom",renderComponent:b.P,onComponentInitFunction:m=>{m.toggle.subscribe(u=>{this.updateTipo(u.row.id_usuario_admin,u.value?"A":"U")})}}}},this.source=new v.nC}ngOnInit(){this.getUsuarioAdminAll()}getUsuarioAdminAll(){var i,t=this;this._adminService.getAlls({id_usuario:"1"}).subscribe({next:(i=(0,x.Z)(function*(s){const a=s.filter(c=>"E"!=c.estado);t.source.load(a)}),function(a){return i.apply(this,arguments)}),error:i=>{}})}add(){this._router.navigate(["/pages/admins/crear"])}onCustom(t){switch(t.action){case"edit":this._router.navigate([`/pages/admins/editar/${t.data.id_usuario_admin}`]);break;case"delete":this.onDelete(t.data.id_usuario_admin);break;case"resetPassword":this.onResetPassword(t.data.id_usuario_admin);break;case"places":"A"===t.data.tipo?this._utilsService.showToast("warning","\xa1Usuario es super admin!"):this._router.navigate([`/pages/admins/${t.data.id_usuario_admin}/places`],{state:{data:t.data}})}}updateStatus(t,i){this._adminService.updateStatus({id_usuario_admin:t,estado:i,usuario_modificacion:"admin"}).subscribe({next:()=>{this._utilsService.showToast("success","\xa1Se ha cambiado el estado!"),this.getUsuarioAdminAll()},error:()=>{this._utilsService.showToast("danger","\xa1No se ha podido cambiar el estado!")}})}updateTipo(t,i){this._adminService.updateTipo({id_usuario_admin:t,estado:i,usuario_modificacion:"admin"}).subscribe({next:()=>{this._utilsService.showToast("success","\xa1Se ha cambiado el tipo!"),this.getUsuarioAdminAll()},error:()=>{this._utilsService.showToast("danger","\xa1No se ha podido cambiar el estado!")}})}onDelete(t){this._authService.getUser().id_usuario_admin!==t?this._dialogService.open(S.S,{context:{title:"\xbfEst\xe1 seguro de borrar el registro?"}}).onClose.subscribe({next:s=>{s&&this.deleteUserAdmin(t)}}):this._utilsService.showToast("danger","El usuario que desea borrar es su sesi\xf3n actual")}deleteUserAdmin(t){this._adminService.deleteUsuarioAdmin({id_usuario_admin:t,usuario_modificacion:"admin"}).subscribe({next:s=>{this._utilsService.showToast("success","Registro eliminado"),this.getUsuarioAdminAll()},error:s=>{this._utilsService.showToast("danger",s.error.causa)}})}onResetPassword(t){this._dialogService.open(S.S,{context:{title:"\xbfEst\xe1 seguro de restablecer la contrase\xf1a del usuario admin?"}}).onClose.subscribe({next:i=>{i&&this.resetPassword(t)}})}resetPassword(t){this._adminService.reseteoClaveUsuarioAdmin({id_usuario_admin:t,usuario_modificacion:"admin"}).subscribe({next:s=>{this._dialogService.open(this.dialog,{context:s.clave}),this.getUsuarioAdminAll()},error:()=>{this._utilsService.showToast("danger","\xa1No se ha podido resetear el usuario!")}})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(_.F0),e.\u0275\u0275directiveInject(C),e.\u0275\u0275directiveInject(o.Gln),e.\u0275\u0275directiveInject(o.quB),e.\u0275\u0275directiveInject(f.F),e.\u0275\u0275directiveInject(T.e))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ngx-admins-list"]],viewQuery:function(t,i){if(1&t&&e.\u0275\u0275viewQuery(L,5),2&t){let s;e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(i.dialog=s.first)}},decls:11,vars:2,consts:[[1,"w-100","d-flex","justify-content-between"],[1,""],["nbButton","","status","info","hero","",3,"click"],[1,"custom-table",3,"settings","source","custom"],["password",""],[1,"password-container"],[1,"text-center","pt-3"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"nb-card")(1,"nb-card-header",0)(2,"h5"),e.\u0275\u0275text(3,"Usuarios Admin"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",1)(5,"button",2),e.\u0275\u0275listener("click",function(){return i.add()}),e.\u0275\u0275text(6," Nuevo "),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(7,"nb-card-body")(8,"ng2-smart-table",3),e.\u0275\u0275listener("custom",function(a){return i.onCustom(a)}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(9,F,5,1,"ng-template",null,4,e.\u0275\u0275templateRefExtractor)),2&t&&(e.\u0275\u0275advance(8),e.\u0275\u0275property("settings",i.settings)("source",i.source))},dependencies:[o.Asz,o.yKW,o.ndF,v.T5,o.DPz],styles:["[_nghost-%COMP%]     nb-stepper .header{display:none}[_nghost-%COMP%]     [nbButton].appearance-ghost.status-basic:hover, .appearance-ghost.status-basic[nbButtonToggle][_ngcontent-%COMP%]:hover{background-color:transparent}[_nghost-%COMP%]     nb-stepper .step-content{padding:0}[_nghost-%COMP%]     tr .ng2-smart-actions{height:auto}[_nghost-%COMP%]     ng2-st-tbody-custom{display:flex;align-items:center}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{display:flex;align-items:center;text-align:center}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom img{width:22px;filter:contrast(.3)}.password-container[_ngcontent-%COMP%]{padding:20px;background-color:#fff}"]}),n})();var l=d(24006),P=d(99501);function j(n,r){1&n&&(e.\u0275\u0275elementStart(0,"div",9)(1,"div",10)(2,"label",23),e.\u0275\u0275text(3,"Contrasena"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"input",24),e.\u0275\u0275elementEnd()())}function M(n,r){1&n&&(e.\u0275\u0275elementStart(0,"div",9)(1,"div",10)(2,"label",25),e.\u0275\u0275text(3,"Confirmar Contrasena"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"input",26),e.\u0275\u0275elementEnd()())}let w=(()=>{class n{constructor(t,i,s,a,c){this._router=t,this._formBuilder=i,this._activatedRoute=s,this._adminService=a,this._utilsService=c,this.statusOptions=[{key:"Activo",value:P.q.ACTIVO},{key:"Inactivo",value:P.q.INACTIVO},{key:"Pendiente",value:P.q.PENDIENTE}],this._activatedRoute.params.subscribe(p=>{this.usuarioAdminId=p.id})}ngOnInit(){this.usuarioAdminId?(this.action="Editar",this.adminForm=this._formBuilder.group({nombres:["",l.kI.required],apellidos:["",l.kI.required],celular:["",l.kI.required],usuario:["",l.kI.required],correo:["",[l.kI.required,l.kI.email]],usuario_creacion:["admin",l.kI.required]}),this.getUsuarioAdmin()):(this.adminForm=this._formBuilder.group({nombres:["",l.kI.required],apellidos:["",l.kI.required],celular:["",l.kI.required],usuario:["",l.kI.required],correo:["",[l.kI.required,l.kI.email]],usuario_creacion:["admin",l.kI.required],contrasena:["",l.kI.required],confirma_contrasena:["",l.kI.required]}),this.action="Crear")}initForm(){"Crear"==this.action&&(this.adminForm.addControl("contrasena",this._formBuilder.control("",l.kI.required)),this.adminForm.addControl("confirma_contrasena",this._formBuilder.control("",l.kI.required)))}getUsuarioAdmin(){this._adminService.getById({id_usuario_admin:this.usuarioAdminId}).subscribe({next:t=>{this.adminForm.patchValue(t),this.selectedStatus=t.estado},error:t=>{console.error(t)}})}save(){this.usuarioAdminId?this.update():this.create()}create(){this.adminForm.value.contrasena==this.adminForm.value.confirma_contrasena?this.adminForm.invalid?this._utilsService.showToast("danger","Favor llene los campos del formulario"):this._adminService.create(this.adminForm.value).subscribe({next:t=>{this._utilsService.showToast("success","Usuario admin creado"),this.goBack()},error:t=>{this._utilsService.showToast("danger","Ha ocurrido un error. Intente nuevamente")}}):this._utilsService.showToast("danger","Las claves ingresadas no son iguales")}update(){this.adminForm.invalid?this._utilsService.showToast("danger","Favor llene los campos del formulario"):this._adminService.update({id_usuario_admin:this.usuarioAdminId,nombres:this.adminForm.value.nombres,apellidos:this.adminForm.value.apellidos,usuario:this.adminForm.value.usuario,celular:this.adminForm.value.celular,correo:this.adminForm.value.correo,usuario_modificacion:"admin"}).subscribe({next:()=>{this._utilsService.showToast("success","Usuario admin actualizado")},error:()=>{this._utilsService.showToast("danger","Ha ocurrido un error. Intente nuevamente")}})}goBack(){this._router.navigate(["/pages/admins"])}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(_.F0),e.\u0275\u0275directiveInject(l.qu),e.\u0275\u0275directiveInject(_.gz),e.\u0275\u0275directiveInject(C),e.\u0275\u0275directiveInject(f.F))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ngx-admins-form"]],decls:53,vars:4,consts:[[1,"row"],[1,"col-lg-12"],[1,"w-100","d-flex","justify-content-between"],[1,"d-flex","align-items-center","h5"],[1,"d-flex","cursor-pointer","no-hover","pr-2",3,"click"],[1,"custom-icon","nb-arrow-left"],["nbButton","","status","info","hero","",3,"click"],[3,"formGroup"],[1,"col-sm-2"],[1,"col-sm-4"],[1,"form-group"],["for","inputNombres",1,"label"],["type","text","nbInput","","fullWidth","","id","inputNombres","placeholder","Nombres","formControlName","nombres"],["for","inputApellidos",1,"label"],["type","text","nbInput","","fullWidth","","id","inputApellidos","placeholder","Apellidos","formControlName","apellidos"],["for","inputUsuario",1,"label"],["type","text","nbInput","","fullWidth","","id","inputUsuario","placeholder","Usuario","formControlName","usuario"],["for","inputCelular",1,"label"],["type","text","nbInput","","fullWidth","","id","inputCelular","placeholder","Celular","formControlName","celular"],[1,"col-sm-8"],["for","inputCorreo",1,"label"],["type","email","nbInput","","fullWidth","","id","inputCorreo","placeholder","Correo","formControlName","correo"],["class","col-sm-4",4,"ngIf"],["for","inputContrasena",1,"label"],["type","password","nbInput","","fullWidth","","id","inputContrasena","placeholder","Contrasena","formControlName","contrasena"],["for","inputConfirmaContrasena",1,"label"],["type","password","nbInput","","fullWidth","","id","inputConfirmaContrasena","placeholder","ConfirmaContrasena","formControlName","confirma_contrasena"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"nb-card")(3,"nb-card-header",2)(4,"div",3)(5,"a",4),e.\u0275\u0275listener("click",function(){return i.goBack()}),e.\u0275\u0275element(6,"i",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"h5"),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div")(10,"button",6),e.\u0275\u0275listener("click",function(){return i.save()}),e.\u0275\u0275text(11,"Guardar"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(12,"nb-card-body")(13,"form",7)(14,"div",0),e.\u0275\u0275element(15,"div",8),e.\u0275\u0275elementStart(16,"div",9)(17,"div",10)(18,"label",11),e.\u0275\u0275text(19,"Nombres"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(20,"input",12),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(21,"div",9)(22,"div",10)(23,"label",13),e.\u0275\u0275text(24,"Apellidos"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(25,"input",14),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(26,"div",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"div",0),e.\u0275\u0275element(28,"div",8),e.\u0275\u0275elementStart(29,"div",9)(30,"div",10)(31,"label",15),e.\u0275\u0275text(32,"Usuario"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(33,"input",16),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(34,"div",9)(35,"div",10)(36,"label",17),e.\u0275\u0275text(37,"Celular"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(38,"input",18),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(39,"div",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(40,"div",0),e.\u0275\u0275element(41,"div",8),e.\u0275\u0275elementStart(42,"div",19)(43,"div",10)(44,"label",20),e.\u0275\u0275text(45,"Correo"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(46,"input",21),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(47,"div",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(48,"div",0),e.\u0275\u0275element(49,"div",8),e.\u0275\u0275template(50,j,5,0,"div",22),e.\u0275\u0275template(51,M,5,0,"div",22),e.\u0275\u0275element(52,"div",8),e.\u0275\u0275elementEnd()()()()()()),2&t&&(e.\u0275\u0275advance(8),e.\u0275\u0275textInterpolate1("",i.action," Usuario Admin"),e.\u0275\u0275advance(5),e.\u0275\u0275property("formGroup",i.adminForm),e.\u0275\u0275advance(37),e.\u0275\u0275property("ngIf","Crear"==i.action),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Crear"==i.action))},dependencies:[g.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,o.h8i,o.Asz,o.yKW,o.ndF,o.DPz]}),n})(),A=(()=>{class n{constructor(t){this.http=t,this.apiUrl=y.N.apiUrl}getAlls(t){return this.http.post(`${this.apiUrl}/getAlllugar_UsuarioAdmin`,t)}updateStatusLugarAdmin(t){return this.http.post(`${this.apiUrl}/updateEstadoLugar_UsuarioAdmin`,t)}getPermisosUsuarioAdmin(t){return this.http.post(`${this.apiUrl}/getPermisos_UsuarioAdmin`,t)}updatePermisosUsuarioAdmin(t){return this.http.post(`${this.apiUrl}/updatePermisos_UsuarioAdmin`,t)}getAllugarUsuarioAdmin(t){return this.http.post(`${this.apiUrl}/getAllugarA_UsuarioAdmin`,t)}insertLugarUsuarioAdmin(t){return this.http.post(`${this.apiUrl}/insertLugar_UsuarioAdmin`,t)}deleteLugarUsuarioAdmin(t){return this.http.post(`${this.apiUrl}/deleteLugar_UsuarioAdmin`,t)}getAllPrimarioUsuarioAdmin(t){return this.http.post(`${this.apiUrl}/getAllPrimario_UsuarioAdmin`,t)}getAllSecundarioUsuarioAdmin(t){return this.http.post(`${this.apiUrl}/getAllSecundario_UsuarioAdmin`,t)}insertSecundarioUsuarioAdmin(t){return this.http.post(`${this.apiUrl}/insertSecundario_UsuarioAdmin`,t)}deleteSecundarioUsuarioAdmin(t){return this.http.post(`${this.apiUrl}/deleteSecundario_UsuarioAdmin`,t)}getPuertasUsuarioAdmin(t){return this.http.post(`${this.apiUrl}/getPuertas_UsuarioAdmin`,t)}updatePuertasUsuarioAdmin(t){return this.http.post(`${this.apiUrl}/updatePuertas_UsuarioAdmin`,t)}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275inject(U.eN))},n.\u0275prov=e.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function B(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",7)(2,"nb-checkbox",8),e.\u0275\u0275listener("checkedChange",function(s){const c=e.\u0275\u0275restoreView(t).$implicit,p=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(p.addOrRemovePermission(s,c.id_opcion))}),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()}if(2&n){const t=r.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275property("checked","A"===t.estado),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.nombre," ")}}let z=(()=>{class n{constructor(t,i,s){this._placeAdminService=t,this._utilsService=i,this._dialogRef=s,this.isLoading=!1,this.permissionList=[],this.selectedPermissions=[]}ngOnInit(){this.getPermissions()}getPermissions(){this.isLoading=!0,this._placeAdminService.getPermisosUsuarioAdmin({id_lugar_usuarios:this.lugarUsuarioId}).subscribe({next:i=>{this.permissionList=i.opciones,this.permissionList.map(s=>{"A"==s.estado&&this.selectedPermissions.push(s.id_opcion)}),this.isLoading=!1},error:i=>{this.isLoading=!1}})}addOrRemovePermission(t,i){const s=t?"A":"I";this.permissionList=this.permissionList.map(a=>(a.id_opcion==i&&(t?this.selectedPermissions.push(a.id_opcion):this.selectedPermissions=this.selectedPermissions.filter(c=>c!=i),a.estado=s),a))}updatePermissions(){this._placeAdminService.updatePermisosUsuarioAdmin({id_lugar_usuarios:this.lugarUsuarioId,lista:this.selectedPermissions}).subscribe({next:()=>{this._utilsService.showToast("success","Permisos actualizados"),this._dialogRef.close(!0)},error:()=>{this._utilsService.showToast("danger","Error al actualizar")}})}close(){this._dialogRef.close(!0)}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(A),e.\u0275\u0275directiveInject(f.F),e.\u0275\u0275directiveInject(o.X4l))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ngx-places-permissions"]],inputs:{lugarUsuarioId:"lugarUsuarioId"},decls:13,vars:3,consts:[[1,"row","detail-container"],[1,"col-lg-12"],[1,"row"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end"],["nbButton","","status","danger",1,"cancel",3,"disabled","click"],["nbButton","","status","success",3,"disabled","click"],[1,"col-6","py-1","d-flex","align-items-center"],[3,"checked","checkedChange"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"nb-card")(3,"nb-card-header"),e.\u0275\u0275text(4,"Seleccionar Permisos"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"nb-card-body")(6,"div",2),e.\u0275\u0275template(7,B,4,2,"ng-container",3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"nb-card-footer",4)(9,"button",5),e.\u0275\u0275listener("click",function(){return i.close()}),e.\u0275\u0275text(10,"Cerrar"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"button",6),e.\u0275\u0275listener("click",function(){return i.updatePermissions()}),e.\u0275\u0275text(12,"Actualizar"),e.\u0275\u0275elementEnd()()()()()),2&t&&(e.\u0275\u0275advance(7),e.\u0275\u0275property("ngForOf",i.permissionList),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",i.isLoading),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",i.isLoading))},dependencies:[g.sg,o.Asz,o.yKW,o.XWE,o.ndF,o.DPz,o.NTf],styles:[".detail-container[_ngcontent-%COMP%]{width:1080px}.cancel[_ngcontent-%COMP%]{margin-right:1rem}"]}),n})();function D(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"nb-option",11),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=r.$implicit;e.\u0275\u0275property("value",t.id_lugar),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.nombre," ")}}let N=(()=>{class n{constructor(t,i,s){this._placeAdminService=t,this._utilsService=i,this._dialogRef=s,this.lugarList=[],this.selectedLugarId=-1}ngOnInit(){this.getPermissions()}getPermissions(){this._placeAdminService.getAllugarUsuarioAdmin({id_usuario_admin:127}).subscribe({next:i=>{this.lugarList=i}})}insertLugar(){this.selectedLugarId<0?this._utilsService.showToast("danger","Seleccione un lugar para agregar"):this._placeAdminService.insertLugarUsuarioAdmin({id_lugar:this.selectedLugarId,id_usuario_admin:this.usuarioAdminId}).subscribe({next:()=>{this._utilsService.showToast("success","Lugar agregado"),this._dialogRef.close(!0)},error:()=>{this._utilsService.showToast("danger","Error al agregar lugar")}})}close(){this._dialogRef.close(!0)}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(A),e.\u0275\u0275directiveInject(f.F),e.\u0275\u0275directiveInject(o.X4l))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ngx-places-insert"]],inputs:{usuarioAdminId:"usuarioAdminId"},decls:22,vars:2,consts:[[1,"row"],[1,"col-lg-12"],[1,"col-6","py-1","d-flex","align-items-center"],[1,"col-md-12"],["fullWidth","true",2,"min-width","300px"],["for","inputLugar",1,"label"],["fullWidth","","id","inputLugar","placeholder","Seleccionar una lugar",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-12","mt-2","d-flex","justify-content-center"],["status","danger","nbButton","","hero","",1,"cancel",3,"click"],["nbButton","","status","info",3,"click"],[3,"value"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"nb-card")(3,"nb-card-header"),e.\u0275\u0275text(4,"Insertar Lugar Admin"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"nb-card-body"),e.\u0275\u0275elementContainerStart(6),e.\u0275\u0275elementStart(7,"div",2)(8,"div",0)(9,"div",3)(10,"div",4)(11,"label",5),e.\u0275\u0275text(12,"Lugar"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"nb-select",6),e.\u0275\u0275listener("ngModelChange",function(a){return i.selectedLugarId=a}),e.\u0275\u0275template(14,D,2,2,"nb-option",7),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(15,"div",8)(16,"div",0)(17,"div",8)(18,"button",9),e.\u0275\u0275listener("click",function(){return i.close()}),e.\u0275\u0275text(19,"Cancelar"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"button",10),e.\u0275\u0275listener("click",function(){return i.insertLugar()}),e.\u0275\u0275text(21,"Agregar"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd()()()()),2&t&&(e.\u0275\u0275advance(13),e.\u0275\u0275property("ngModel",i.selectedLugarId),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",i.lugarList))},dependencies:[g.sg,l.JJ,l.On,o.Asz,o.yKW,o.ndF,o.DPz,o.rs,o.q51],styles:[".cancel[_ngcontent-%COMP%]{margin-right:1rem}"]}),n})();function $(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"nb-option",13),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=r.$implicit;e.\u0275\u0275property("value",t.id_primario),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.nombre_primario," ")}}function R(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"nb-list-item",14)(1,"div"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",15),e.\u0275\u0275listener("click",function(){const a=e.\u0275\u0275restoreView(t).$implicit,c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.onDeleteSecundario(a.id_secundario_usuarios))}),e.\u0275\u0275element(4,"i",16),e.\u0275\u0275elementEnd()()}if(2&n){const t=r.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.nombre_primario)}}let V=(()=>{class n{constructor(t,i,s,a){this._placeAdminService=t,this._utilsService=i,this._dialogRef=s,this._dialogService=a,this.isLoading=!1,this.primarioList=[],this.secundariosList=[],this.selectedPrimario=-1}ngOnInit(){this.getAllPrimariolugar(),this.getAllSecundarioUsuarioAdmin()}getAllPrimariolugar(){this.isLoading=!0;const t={id_usuario:this.usuarioAdminId.toString(),id_lugar:this.lugarId.toString()};this._placeAdminService.getAllPrimarioUsuarioAdmin(t).subscribe({next:i=>{this.primarioList=i,this.isLoading=!1},error:i=>{this.isLoading=!1}})}getAllSecundarioUsuarioAdmin(){this.isLoading=!0,this._placeAdminService.getAllSecundarioUsuarioAdmin({id_lugar_usuarios:this.lugarUsuarioId}).subscribe({next:i=>{this.secundariosList=i,this.isLoading=!1},error:i=>{this.isLoading=!1}})}onDeleteSecundario(t){this._dialogService.open(S.S,{context:{title:"\xbfEst\xe1 seguro de borrar el registro?"}}).onClose.subscribe({next:i=>{i&&this.deleteAccess(t)}})}deleteAccess(t){this._placeAdminService.deleteSecundarioUsuarioAdmin({id_secundario_usuarios:t}).subscribe({next:s=>{this._utilsService.showToast("success","Registro eliminado"),this.getAllSecundarioUsuarioAdmin()},error:s=>{this._utilsService.showToast("danger",s.error.causa)}})}close(){this._dialogRef.close(!0)}insertSecundario(){if(this.selectedPrimario<0)return void this._utilsService.showToast("danger","Seleccione un secundario para agregar");if(this.secundariosList.findIndex(s=>s.id_primario==this.selectedPrimario)>=0)return void this._utilsService.showToast("danger","Secundario ya se encuentra agregado");this.isLoading=!0;const i={id_lugar_usuarios:this.lugarUsuarioId,id_primario:this.selectedPrimario.toString()};this._placeAdminService.insertSecundarioUsuarioAdmin(i).subscribe({next:s=>{this.isLoading=!1,this._utilsService.showToast("success","Registro agregado"),this.getAllSecundarioUsuarioAdmin()},error:s=>{this._utilsService.showToast("danger",s.error.causa),this.isLoading=!1}})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(A),e.\u0275\u0275directiveInject(f.F),e.\u0275\u0275directiveInject(o.X4l),e.\u0275\u0275directiveInject(o.Gln))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ngx-places-secondary"]],inputs:{usuarioAdminId:"usuarioAdminId",lugarUsuarioId:"lugarUsuarioId",lugarId:"lugarId"},decls:24,vars:5,consts:[[1,"row"],[1,"col-lg-12"],[1,"col-6","py-1","d-flex","align-items-center"],[1,"col-md-12"],["fullWidth","true",2,"min-width","300px"],["for","inputPrimario",1,"label"],["fullWidth","","id","inputPrimario","placeholder","Seleccionar una opci\xf3n",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-12","mt-2","d-flex","justify-content-center"],["status","danger","nbButton","","hero","",1,"cancel",3,"disabled","click"],["nbButton","","status","info",3,"disabled","click"],[1,"d-flex","flex-column","w-100","pt-4",2,"max-height","450px","overflow-y","auto"],["class","d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[3,"value"],[1,"d-flex","justify-content-between","align-items-center"],["nbButton","","ghost","","size","large",1,"delete-button",3,"click"],[1,"nb-trash"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"nb-card")(3,"nb-card-header"),e.\u0275\u0275text(4,"Secundarios"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"nb-card-body"),e.\u0275\u0275elementContainerStart(6),e.\u0275\u0275elementStart(7,"div",2)(8,"div",0)(9,"div",3)(10,"div",4)(11,"label",5),e.\u0275\u0275text(12,"Secundario"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"nb-select",6),e.\u0275\u0275listener("ngModelChange",function(a){return i.selectedPrimario=a}),e.\u0275\u0275template(14,$,2,2,"nb-option",7),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(15,"div",8)(16,"div",0)(17,"div",8)(18,"button",9),e.\u0275\u0275listener("click",function(){return i.close()}),e.\u0275\u0275text(19,"Cancelar"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"button",10),e.\u0275\u0275listener("click",function(){return i.insertSecundario()}),e.\u0275\u0275text(21,"Agregar"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(22,"nb-list",11),e.\u0275\u0275template(23,R,5,1,"nb-list-item",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd()()()()),2&t&&(e.\u0275\u0275advance(13),e.\u0275\u0275property("ngModel",i.selectedPrimario),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",i.primarioList),e.\u0275\u0275advance(4),e.\u0275\u0275property("disabled",i.isLoading),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",i.isLoading),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",i.secundariosList))},dependencies:[g.sg,l.JJ,l.On,o.Asz,o.yKW,o.ndF,o.DPz,o.rs,o.q51,o.zP_,o.qBV],styles:[".detail-container[_ngcontent-%COMP%]{width:1080px}.cancel[_ngcontent-%COMP%]{margin-right:1rem}"]}),n})();function W(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",8)(2,"nb-checkbox",9),e.\u0275\u0275listener("checkedChange",function(s){const c=e.\u0275\u0275restoreView(t).$implicit,p=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(p.addOrRemovePuerta(s,c.id_puerta))}),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()}if(2&n){const t=r.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275property("checked","A"===t.estado),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.nombre," ")}}function q(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",8)(2,"nb-checkbox",9),e.\u0275\u0275listener("checkedChange",function(s){const c=e.\u0275\u0275restoreView(t).$implicit,p=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(p.addOrRemovePuerta(s,c.id_puerta))}),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()}if(2&n){const t=r.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275property("checked","A"===t.estado),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.nombre," ")}}let K=(()=>{class n{constructor(t,i,s){this._placeAdminService=t,this._utilsService=i,this._dialogRef=s,this.isLoading=!1,this.puertasList=[],this.puertasIngresoList=[],this.puertasSalidaList=[],this.selectedPuertas=[]}ngOnInit(){this.getPuertasUsuarioAdmin()}getPuertasUsuarioAdmin(){this.isLoading=!0;const t={id_lugar_usuarios:this.lugarUsuarioId.toString()};this._placeAdminService.getPuertasUsuarioAdmin(t).subscribe({next:i=>{this.puertasList=i.puerta,this.puertasIngresoList=i.puerta.filter(s=>"I"==s.tipo_ingreso),this.puertasSalidaList=i.puerta.filter(s=>"S"==s.tipo_ingreso),this.puertasList.map(s=>{"A"==s.estado&&this.selectedPuertas.push(s.id_puerta)}),this.isLoading=!1},error:i=>{this.isLoading=!1}})}addOrRemovePuerta(t,i){const s=t?"A":"I";this.puertasList=this.puertasList.map(a=>(a.id_puerta==i&&(t?this.selectedPuertas.push(a.id_puerta):this.selectedPuertas=this.selectedPuertas.filter(c=>c!=i),a.estado=s),a))}updatePuertas(){this._placeAdminService.updatePuertasUsuarioAdmin({id_lugar_usuarios:this.lugarUsuarioId,lista:this.selectedPuertas}).subscribe({next:()=>{this._utilsService.showToast("success","Puertas actualizadas"),this._dialogRef.close(!0)},error:()=>{this._utilsService.showToast("danger","Error al actualizar")}})}close(){this._dialogRef.close(!0)}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(A),e.\u0275\u0275directiveInject(f.F),e.\u0275\u0275directiveInject(o.X4l))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ngx-places-doors"]],inputs:{lugarUsuarioId:"lugarUsuarioId"},decls:21,vars:4,consts:[[1,"detail-container"],[1,"row"],[1,"col"],[2,"max-height","500px","overflow-y","auto"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end"],["nbButton","","status","danger",1,"cancel",3,"disabled","click"],["nbButton","","status","success",3,"disabled","click"],[1,"col-6","py-1","d-flex","align-items-center"],[3,"checked","checkedChange"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"nb-card")(2,"nb-card-header"),e.\u0275\u0275text(3,"Seleccionar Puertas"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"nb-card-body")(5,"div",1)(6,"div",2)(7,"h4"),e.\u0275\u0275text(8,"Puertas Ingreso"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",3),e.\u0275\u0275template(10,W,4,2,"ng-container",4),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(11,"div",2)(12,"h4"),e.\u0275\u0275text(13,"Puertas Salida"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",3),e.\u0275\u0275template(15,q,4,2,"ng-container",4),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(16,"nb-card-footer",5)(17,"button",6),e.\u0275\u0275listener("click",function(){return i.close()}),e.\u0275\u0275text(18,"Cerrar"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"button",7),e.\u0275\u0275listener("click",function(){return i.updatePuertas()}),e.\u0275\u0275text(20,"Actualizar"),e.\u0275\u0275elementEnd()()()()),2&t&&(e.\u0275\u0275advance(10),e.\u0275\u0275property("ngForOf",i.puertasIngresoList),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngForOf",i.puertasSalidaList),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",i.isLoading),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",i.isLoading))},dependencies:[g.sg,o.Asz,o.yKW,o.XWE,o.ndF,o.DPz,o.NTf],styles:[".detail-container[_ngcontent-%COMP%]{width:1080px}.cancel[_ngcontent-%COMP%]{margin-right:1rem}"]}),n})();function G(n,r){1&n&&(e.\u0275\u0275elementStart(0,"h5"),e.\u0275\u0275text(1,"Lugares Usuario Admin"),e.\u0275\u0275elementEnd())}function J(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"h5"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2("Lugares Usuario Admin : ",t.userAdmin.nombres," ",t.userAdmin.apellidos,"")}}function X(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",4),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.acciones.onPermisos(s.rowData))}),e.\u0275\u0275elementEnd()}}function Q(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",5),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.acciones.onSecundarios(s.rowData))}),e.\u0275\u0275elementEnd()}}function H(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",6),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.acciones.onPuertas(s.rowData))}),e.\u0275\u0275elementEnd()}}let Z=(()=>{class n{constructor(t,i,s,a,c,p){this._router=t,this._activatedRoute=i,this._adminService=s,this._placeAdminService=a,this._dialogService=c,this._utilsService=p,this.source=new v.nC,this.settings={actions:{add:!1,edit:!1,delete:!1},columns:{nombre_lugar:{title:"Nombre Lugar",type:"string"},estado:{title:"Permisos",type:"custom",renderComponent:b.P,onComponentInitFunction:m=>{m.toggle.subscribe(u=>{this.updateStatus(u.row.id_lugar_usuarios,u.value?"A":"I")})}},especial:{title:"Secundarios",type:"custom",renderComponent:b.P,onComponentInitFunction:m=>{m.toggle.subscribe(u=>{this.updateSpecial(u.row.id_lugar_usuarios,u.value?"S":"N")})}},especial_puerta:{title:"Puertas",type:"custom",renderComponent:b.P,onComponentInitFunction:m=>{m.toggle.subscribe(u=>{this.updateSpecialDoor(u.row.id_lugar_usuarios,u.value?"S":"N")})}},actions:{title:"Acciones",type:"custom",filter:!1,renderComponent:Y,onComponentInitFunction:m=>{m.acciones={onDelete:this.onDelete.bind(this),onPermisos:this.onPermisos.bind(this),onSecundarios:this.onSecundarios.bind(this),onPuertas:this.onPuertas.bind(this)}}}}},this._activatedRoute.params.subscribe(m=>{this.usuarioAdminId=m.id})}ngOnInit(){this.getUsuarioAdmin(),this.getUsuarioAdminAll()}getUsuarioAdmin(){this._adminService.getById({id_usuario_admin:this.usuarioAdminId}).subscribe({next:t=>{this.userAdmin=t,"A"===this.userAdmin.tipo&&(this._utilsService.showToast("info","\xa1Usuario es super admin!"),this.goBack())},error:t=>{this._utilsService.showToast("danger","Usuario no encontrado"),this.goBack()}})}getUsuarioAdminAll(){var i,t=this;this._placeAdminService.getAlls({id_usuario_admin:this.usuarioAdminId}).subscribe({next:(i=(0,x.Z)(function*(s){const a=s.filter(c=>"E"!=c.estado);t.source.load(a)}),function(a){return i.apply(this,arguments)}),error:i=>{console.error(i)}})}add(){this._dialogService.open(N,{context:{usuarioAdminId:this.usuarioAdminId},closeOnBackdropClick:!0}).onClose.subscribe({next:t=>{this.getUsuarioAdminAll()}})}onDelete(t){this._dialogService.open(S.S,{context:{title:"\xbfEst\xe1 seguro de eliminar el registro?"}}).onClose.subscribe({next:i=>{i&&this.deleteLugarUsuarioAdmin(t.id_lugar_usuarios)}})}deleteLugarUsuarioAdmin(t){this._placeAdminService.deleteLugarUsuarioAdmin({id_lugar_usuarios:t}).subscribe({next:()=>{this._utilsService.showToast("success","Lugar eliminado"),this.getUsuarioAdminAll()},error:()=>{this._utilsService.showToast("danger","Error al eliminar el lugar")}})}onPermisos(t){this._dialogService.open(z,{context:{lugarUsuarioId:t.id_lugar_usuarios},closeOnBackdropClick:!1})}onSecundarios(t){this._dialogService.open(V,{context:{usuarioAdminId:this.usuarioAdminId,lugarUsuarioId:t.id_lugar_usuarios,lugarId:t.id_lugar},closeOnBackdropClick:!1})}onPuertas(t){this._dialogService.open(K,{context:{lugarUsuarioId:t.id_lugar_usuarios},closeOnBackdropClick:!0})}updateStatus(t,i){this._placeAdminService.updateStatusLugarAdmin({id_lugar_usuarios:t,estado:i,tipo:"estado"}).subscribe({next:()=>{this._utilsService.showToast("success","\xa1Se ha cambiado el estado!"),this.getUsuarioAdminAll()},error:()=>{this._utilsService.showToast("danger","\xa1No se ha podido cambiar el estado!")}})}updateSpecial(t,i){this._placeAdminService.updateStatusLugarAdmin({id_lugar_usuarios:t,estado:i,tipo:"especial"}).subscribe({next:()=>{this._utilsService.showToast("success","\xa1Se ha cambiado el estado!"),this.getUsuarioAdminAll()},error:()=>{this._utilsService.showToast("danger","\xa1No se ha podido cambiar el estado!")}})}updateSpecialDoor(t,i){this._placeAdminService.updateStatusLugarAdmin({id_lugar_usuarios:t,estado:i,tipo:"puerta"}).subscribe({next:()=>{this._utilsService.showToast("success","\xa1Se ha cambiado el estado!"),this.getUsuarioAdminAll()},error:()=>{this._utilsService.showToast("danger","\xa1No se ha podido cambiar el estado!")}})}goBack(){this._router.navigate(["/pages/admins"])}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(_.F0),e.\u0275\u0275directiveInject(_.gz),e.\u0275\u0275directiveInject(C),e.\u0275\u0275directiveInject(A),e.\u0275\u0275directiveInject(o.Gln),e.\u0275\u0275directiveInject(f.F))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ngx-places-list"]],decls:12,vars:4,consts:[[1,"w-100","d-flex","justify-content-between"],[1,"d-flex","align-items-center","h5"],[1,"d-flex","cursor-pointer","no-hover","pr-2",3,"click"],[1,"custom-icon","nb-arrow-left"],[4,"ngIf"],["nbButton","","status","info","hero","",3,"click"],[1,"custom-table",3,"settings","source"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"nb-card")(1,"nb-card-header",0)(2,"div",1)(3,"a",2),e.\u0275\u0275listener("click",function(){return i.goBack()}),e.\u0275\u0275element(4,"i",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,G,2,0,"h5",4),e.\u0275\u0275template(6,J,2,2,"h5",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div")(8,"button",5),e.\u0275\u0275listener("click",function(){return i.add()}),e.\u0275\u0275text(9,"Nuevo"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(10,"nb-card-body"),e.\u0275\u0275element(11,"ng2-smart-table",6),e.\u0275\u0275elementEnd()()),2&t&&(e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",null==i.userAdmin),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=i.userAdmin),e.\u0275\u0275advance(5),e.\u0275\u0275property("settings",i.settings)("source",i.source))},dependencies:[g.O5,o.Asz,o.yKW,o.ndF,v.T5,o.DPz],styles:["[_nghost-%COMP%]     nb-stepper .header{display:none}[_nghost-%COMP%]     [nbButton].appearance-ghost.status-basic:hover, .appearance-ghost.status-basic[nbButtonToggle][_ngcontent-%COMP%]:hover{background-color:transparent}[_nghost-%COMP%]     nb-stepper .step-content{padding:0}[_nghost-%COMP%]     tr .ng2-smart-actions{height:auto}[_nghost-%COMP%]     ng2-st-tbody-custom{display:flex;align-items:center}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{display:flex;align-items:center;text-align:center}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom img{width:22px;filter:contrast(.3)}.password-container[_ngcontent-%COMP%]{padding:20px;background-color:#fff}"]}),n})(),Y=(()=>{class n{validacionEstado(){return"A"===this.rowData.estado}validacionEspecial(){return"S"===this.rowData.especial}validacionEspecialPuerta(){return"S"===this.rowData.especial_puerta}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-custom-actions"]],inputs:{rowData:"rowData"},decls:5,vars:3,consts:[["title","Eliminar",1,"fa","fa-trash",2,"cursor","pointer","margin-right","15px","font-size","20px",3,"click"],["class","fa fa-user-shield","style","cursor: pointer; margin-right: 15px; font-size: 20px;","title","Permisos",3,"click",4,"ngIf"],["class","fa fa-building","style","cursor: pointer; margin-right: 15px; font-size: 20px;","title","Secundarios",3,"click",4,"ngIf"],["class","fa fa-door-open","style","cursor: pointer; margin-right: 15px; font-size: 20px;","title","Puertas",3,"click",4,"ngIf"],["title","Permisos",1,"fa","fa-user-shield",2,"cursor","pointer","margin-right","15px","font-size","20px",3,"click"],["title","Secundarios",1,"fa","fa-building",2,"cursor","pointer","margin-right","15px","font-size","20px",3,"click"],["title","Puertas",1,"fa","fa-door-open",2,"cursor","pointer","margin-right","15px","font-size","20px",3,"click"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"div")(1,"i",0),e.\u0275\u0275listener("click",function(){return i.acciones.onDelete(i.rowData)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(2,X,1,0,"i",1),e.\u0275\u0275template(3,Q,1,0,"i",2),e.\u0275\u0275template(4,H,1,0,"i",3),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.validacionEstado()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.validacionEspecial()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.validacionEspecialPuerta()))},dependencies:[g.O5],encapsulation:2}),n})();const ee=[{path:"",component:E,children:[{path:"",component:O},{path:"crear",component:w},{path:"editar/:id",component:w},{path:":id/places",component:Z}]}];let te=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[_.Bz.forChild(ee),_.Bz]}),n})();var ie=d(97137);let ne=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[g.ez,ie.O,te,l.UX,l.u5,o.nKr,o.zyh,v.ne,o.T2N,o.IIj,o.MfT,o.COg]}),n})()}}]);