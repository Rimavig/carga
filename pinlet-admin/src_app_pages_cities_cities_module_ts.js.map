{"version":3,"file":"src_app_pages_cities_cities_module_ts.js","mappings":"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","sources":["./src/app/pages/cities/cities-routing.module.ts","./src/app/pages/cities/cities.component.ts","./src/app/pages/cities/cities.module.ts","./src/app/pages/cities/city-form/city-form.component.ts","./src/app/pages/cities/city-form/city-form.component.html"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { CitiesComponent } from './cities.component';\r\nimport { CityFormComponent } from './city-form/city-form.component';\r\n\r\nconst routes: Routes = [\r\n\t{\r\n\t\tpath: '',\r\n\t\tcomponent: CitiesComponent,\r\n\t\tchildren: [\r\n\t\t\t{\r\n\t\t\t\tpath: '',\r\n\t\t\t\tcomponent: CitiesComponent\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: 'crear',\r\n\t\t\t\tcomponent: CityFormComponent\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: 'editar/:id',\r\n\t\t\t\tcomponent: CityFormComponent\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n];\r\n\r\n@NgModule({\r\n\tdeclarations: [],\r\n\timports: [\r\n\t\tRouterModule.forChild(routes)\r\n\t],\r\n\texports: [\r\n\t\tRouterModule\r\n\t]\r\n})\r\nexport class CitiesRoutingModule { }","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n\tselector: 'ngx-cities',\r\n\ttemplate: `<router-outlet></router-outlet>`\r\n})\r\nexport class CitiesComponent {\r\n\r\n\tconstructor() { }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CitiesComponent } from './cities.component';\r\nimport { CityFormComponent } from './city-form/city-form.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { CitiesRoutingModule } from './cities-routing.module';\r\nimport { Ng2SmartTableModule } from 'ng2-smart-table';\r\nimport { NbButtonModule, NbCardModule, NbInputModule, NbSelectModule } from '@nebular/theme';\r\n\r\n@NgModule({\r\n\tdeclarations: [\r\n\t\tCitiesComponent,\r\n\t\tCityFormComponent\r\n\t],\r\n\timports: [\r\n\t\tCommonModule,\r\n\t\tReactiveFormsModule,\r\n\t\tCitiesRoutingModule,\r\n\t\tNg2SmartTableModule,\r\n\t\tNbCardModule,\r\n\t\tNbInputModule,\r\n\t\tNbButtonModule,\r\n\t\tNbSelectModule\r\n\t]\r\n})\r\nexport class CitiesModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { NbGlobalPhysicalPosition, NbToastrService } from '@nebular/theme';\r\nimport { City } from '../../../@core/models/city';\r\nimport { Status } from '../../../@core/models/status';\r\nimport { CityService } from '../../../@core/services/city.service';\r\n\r\n@Component({\r\n\tselector: 'ngx-city-form',\r\n\ttemplateUrl: './city-form.component.html',\r\n\tstyleUrls: ['./city-form.component.scss']\r\n})\r\nexport class CityFormComponent implements OnInit {\r\n\r\n\taction: string;\r\n\tprovinceId: any;\r\n\tcityId: any;\r\n\tcityForm: FormGroup;\r\n\tstatusOptions: Array<any> = [\r\n\t\t{ key: 'Activo', value: Status.ACTIVO },\r\n\t\t{ key: 'Inactivo', value: Status.INACTIVO },\r\n\t\t{ key: 'Pendiente', value: Status.PENDIENTE }\r\n\t];\r\n\tselectedStatus: string;\r\n\r\n\tconstructor(\r\n\t\tprivate _formBuilder: FormBuilder,\r\n\t\tprivate _activatedRoute: ActivatedRoute,\r\n\t\tprivate _cityService: CityService,\r\n\t\tprivate _toastrService: NbToastrService,\r\n\t\tprivate _router: Router\r\n\t) {\r\n\t\tthis._activatedRoute.params\r\n\t\t\t.subscribe(param => {\r\n\t\t\t\tthis.cityId = param.id;\r\n\t\t\t});\r\n\t\tthis._activatedRoute.queryParams\r\n\t\t\t.subscribe(param => {\r\n\t\t\t\tthis.provinceId = param.idProvincia;\r\n\t\t\t})\r\n\r\n\t\tthis.initForm();\r\n\t}\r\n\r\n\tngOnInit(): void {\r\n\t\tif (!!this.cityId) {\r\n\t\t\tthis.getCity();\r\n\t\t\tthis.action = 'Editar';\r\n\t\t} else {\r\n\t\t\tthis.action = 'Crear';\r\n\t\t}\r\n\t}\r\n\r\n\tinitForm(): void {\r\n\t\tthis.cityForm = this._formBuilder.group(\r\n\t\t\t{\r\n\t\t\t\tid_provincia: [this.provinceId, Validators.required],\r\n\t\t\t\tnombre: ['', Validators.required],\r\n\t\t\t\testado: [''],\r\n\t\t\t\tusuario_creacion: ['admin', Validators.required]\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tgetCity(): void {\r\n\t\tthis._cityService.getById({ id_ciudad: this.cityId })\r\n\t\t\t.subscribe({\r\n\t\t\t\tnext: (response: City) => {\r\n\t\t\t\t\tthis.cityForm.patchValue(response);\r\n\t\t\t\t\tthis.selectedStatus = response.estado;\r\n\t\t\t\t},\r\n\t\t\t\terror: (error) => {\r\n\t\t\t\t\tconsole.error(error);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tsave(): void {\r\n\t\tif (!!this.cityId) {\r\n\t\t\tthis.update();\r\n\t\t} else {\r\n\t\t\tthis.create();\r\n\t\t}\r\n\t}\r\n\r\n\tcreate(): void {\r\n\t\tthis._cityService.create(this.cityForm.value)\r\n\t\t\t.subscribe({\r\n\t\t\t\tnext: () => {\r\n\t\t\t\t\tthis.showToast('success', 'Ciudad creada');\r\n\t\t\t\t\tthis.goBack();\r\n\t\t\t\t},\r\n\t\t\t\terror: () => {\r\n\t\t\t\t\tthis.showToast('danger', 'Ha ocurrido un error. Intente nuevamente');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tupdate(): void {\r\n\t\tconst params = {\r\n\t\t\tid_ciudad: this.cityId,\r\n\t\t\tid_provincia: this.cityForm.value.id_provincia,\r\n\t\t\tnombre: this.cityForm.value.nombre,\r\n\t\t\testado: this.cityForm.value.estado,\r\n\t\t\tusuario_modificacion: 'admin'\r\n\t\t};\r\n\t\tthis._cityService.update(params)\r\n\t\t\t.subscribe({\r\n\t\t\t\tnext: () => {\r\n\t\t\t\t\tthis.showToast('success', 'Ciudad actualizada');\r\n\t\t\t\t},\r\n\t\t\t\terror: () => {\r\n\t\t\t\t\tthis.showToast('danger', 'Ha ocurrido un error. Intente nuevamente');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tchangeStatus(status: string): void {\r\n\t\tif (status !== this.selectedStatus) {\r\n\t\t\tthis.selectedStatus = status;\r\n\t\t\tconst params = {\r\n\t\t\t\tid_ciudad: this.cityId,\r\n\t\t\t\testado: status,\r\n\t\t\t\tusuario_modificacion: 'admin'\r\n\t\t\t};\r\n\t\t\tthis._cityService.updateStatus(params)\r\n\t\t\t.subscribe({\r\n\t\t\t\tnext: () => {\r\n\t\t\t\t\tthis.showToast('success', '¡Se ha cambiado el estado!');\r\n\t\t\t\t},\r\n\t\t\t\terror: () => {\r\n\t\t\t\t\tthis.showToast('danger', '¡No se ha podido cambiar el estado!');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tshowToast(type: string, text: string): void {\r\n\t\tconst config = {\r\n\t\t\tstatus: type,\r\n\t\t\tdestroyByClick: true,\r\n\t\t\tduration: 3000,\r\n\t\t\thasIcon: false,\r\n\t\t\tposition: NbGlobalPhysicalPosition.TOP_RIGHT,\r\n\t\t\tpreventDuplicates: true,\r\n\t\t};\r\n\r\n\t\tthis._toastrService.show('', text, config);\r\n\t}\r\n\r\n\tgoBack(): void {\r\n\t\tthis._router.navigateByUrl(`/pages/provincias/editar/${this.provinceId}`);\r\n\t}\r\n\r\n}\r\n","<div class=\"row\">\r\n\t<div class=\"col-lg-12\">\r\n\t\t<nb-card>\r\n\t\t\t<nb-card-header class=\"w-100 d-flex justify-content-between\">\r\n\t\t\t\t<div class=\"d-flex align-items-center h5\">\r\n\t\t\t\t\t<a class=\"d-flex cursor-pointer no-hover pr-2\" (click)=\"goBack()\">\r\n\t\t\t\t\t\t<i class=\"custom-icon nb-arrow-left\"></i>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t<h5>{{action}} Ciudad</h5>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<button nbButton status=\"info\" hero (click)=\"save()\">\r\n\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</nb-card-header>\r\n\t\t\t<nb-card-body>\r\n\t\t\t\t<form [formGroup]=\"cityForm\">\r\n\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t<div class=\"col-sm-4\">\r\n\t\t\t\t\t\t\t<div class=\"form-group\">\r\n\t\t\t\t\t\t\t\t<label for=\"inputNombre\" class=\"label\">Nombre</label>\r\n\t\t\t\t\t\t\t\t<input type=\"text\" \r\n\t\t\t\t\t\t\t\t\tnbInput \r\n\t\t\t\t\t\t\t\t\tfullWidth \r\n\t\t\t\t\t\t\t\t\tid=\"inputNombre\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Nombre\" \r\n\t\t\t\t\t\t\t\t\tformControlName=\"nombre\">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- <div class=\"col-sm-4\">\r\n\t\t\t\t\t\t\t<div class=\"form-group\">\r\n\t\t\t\t\t\t\t\t<label for=\"inputEstado\" class=\"label\">Estado</label>\r\n\t\t\t\t\t\t\t\t<nb-select fullWidth\r\n\t\t\t\t\t\t\t\t\tid=\"inputEstado\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Seleccione una opción\"\r\n\t\t\t\t\t\t\t\t\tformControlName=\"estado\"\r\n\t\t\t\t\t\t\t\t\t(selectedChange)=\"changeStatus($event)\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<nb-option *ngFor=\"let item of statusOptions\" [value]=\"item.value\">\r\n\t\t\t\t\t\t\t\t\t\t{{item.key}}\r\n\t\t\t\t\t\t\t\t\t</nb-option>\r\n\t\t\t\t\t\t\t\t</nb-select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div> -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</nb-card-body>\r\n\t\t</nb-card>\r\n\t</div>\r\n</div>\r\n "],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}