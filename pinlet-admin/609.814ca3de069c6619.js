"use strict";(self.webpackChunkngx_admin_demo=self.webpackChunkngx_admin_demo||[]).push([[609],{34609:(U,C,r)=>{r.r(C),r.d(C,{PlaceDetailModule:()=>K});var k=r(97137),b=r(36895),h=r(7672),w=r(14019),_=r(15861),e=r(30551),a=r(36517),P=r(42658),y=r(36749),v=r(74385);let x=(()=>{class n{constructor(){this.clickLink=new e.EventEmitter}ngOnInit(){this.renderValue=this.value.toString()}onClick(){this.clickLink.emit(this.rowData)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ng-component"]],inputs:{value:"value",rowData:"rowData"},outputs:{clickLink:"clickLink"},decls:2,vars:1,consts:[[1,"cursor-pointer",3,"click"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"a",0),e.\u0275\u0275listener("click",function(){return i.onClick()}),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(i.renderValue))},encapsulation:2}),n})();var F=r(7224),m=r(80574),f=r(12368),I=r(37556),T=r(20732),E=r(78433),l=r(24006);let L=(()=>{class n{constructor(t,i,o){this._formBuilder=t,this._placeService=i,this._toastrService=o,this.afterSave=new e.EventEmitter,this.cancel=new e.EventEmitter,this.initForm(this.placeId)}ngOnInit(){this.primarioId&&this.getPrimario()}ngOnChanges(t){t?.placeId?.currentValue&&(this.placeId=t?.placeId?.currentValue,this.primarioForm.get("id_lugar").setValue(this.placeId))}initForm(t){this.primarioForm=this._formBuilder.group({id_lugar:[t,l.kI.required],id_primario:[""],nombre:["",l.kI.required],usuario_creacion:["admin",l.kI.required]})}getPrimario(){this._placeService.getPrimarioById({id_primario:this.primarioId}).subscribe({next:i=>{this.primarioForm.patchValue(i),this.primarioForm.patchValue({nombre:i.nombre_primario})},error:()=>{this.showToast("danger","Error al consultar primario")}})}savePrimario(){this.primarioId?this.updatePrimario():this.createPrimario()}createPrimario(){this._placeService.createPrimario(this.primarioForm.value).subscribe({next:()=>{this.showToast("success","Primario creado"),this.afterSave.emit()},error:()=>{this.showToast("danger","Error al crear primario")}})}updatePrimario(){const{usuario_creacion:t,...i}=this.primarioForm.value,o={...i,usuario_modificacion:"admin"};this._placeService.updatePrimario(o).subscribe({next:()=>{this.showToast("success","Primario actualizado"),this.afterSave.emit()},error:()=>{this.showToast("danger","Error al actualizar primario")}})}showToast(t,i){this._toastrService.show("",i,{status:t,destroyByClick:!0,duration:3e3,hasIcon:!1,position:a.fe3.TOP_RIGHT,preventDuplicates:!0})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(l.qu),e.\u0275\u0275directiveInject(f.k),e.\u0275\u0275directiveInject(a.quB))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ngx-primario-form"]],inputs:{placeId:"placeId",primarioId:"primarioId"},outputs:{afterSave:"afterSave",cancel:"cancel"},features:[e.\u0275\u0275NgOnChangesFeature],decls:7,vars:2,consts:[[1,"form-inline","w-100","justify-content-between",3,"formGroup"],["type","text","nbInput","","fullwidth","","fieldSize","small","placeholder","Nombre","formControlName","nombre"],[1,"d-flex","align-items-center","ml-2"],["nbButton","","size","small","status","info",3,"disabled","click"],[1,"pl-2","cursor-pointer",3,"click"],[1,"custom-icon","nb-close"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"form",0),e.\u0275\u0275element(1,"input",1),e.\u0275\u0275elementStart(2,"div",2)(3,"button",3),e.\u0275\u0275listener("click",function(){return i.savePrimario()}),e.\u0275\u0275text(4,"Guardar"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"a",4),e.\u0275\u0275listener("click",function(){return i.cancel.emit()}),e.\u0275\u0275element(6,"i",5),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275property("formGroup",i.primarioForm),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",!i.primarioForm.valid))},dependencies:[l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,a.DPz,a.h8i],styles:[".custom-icon[_ngcontent-%COMP%]{display:inline-block;font-size:28px}"]}),n})(),j=(()=>{class n{constructor(t,i,o){this._formBuilder=t,this._placeService=i,this._toastrService=o,this.afterSave=new e.EventEmitter,this.cancel=new e.EventEmitter,this.initForm(this.primarioId)}ngOnInit(){this.secundarioId&&this.getSecundario()}ngOnChanges(t){t?.primarioId?.currentValue&&(this.primarioId=t?.primarioId?.currentValue,this.secundarioForm.get("id_primario").setValue(this.primarioId))}initForm(t){this.secundarioForm=this._formBuilder.group({id_primario:[t,l.kI.required],id_secundario:[""],nombre:["",l.kI.required],usuario_creacion:["admin",l.kI.required]})}getSecundario(){this._placeService.getSecundarioById({id_secundario:this.secundarioId}).subscribe({next:i=>{this.secundarioForm.patchValue(i),this.secundarioForm.patchValue({nombre:i.nombre_secundario})},error:()=>{this.showToast("danger","Error al consultar secundario")}})}saveSecundario(){this.secundarioId?this.updateSecundario():this.createSecundario()}createSecundario(){this._placeService.createSecundario(this.secundarioForm.value).subscribe({next:()=>{this.showToast("success","Secundario creado"),this.afterSave.emit()},error:()=>{this.showToast("danger","Error al crear secundario")}})}updateSecundario(){const{usuario_creacion:t,...i}=this.secundarioForm.value,o={...i,usuario_modificacion:"admin"};this._placeService.updateSecundario(o).subscribe({next:()=>{this.showToast("success","Secundario actualizado"),this.afterSave.emit()},error:()=>{this.showToast("danger","Error al actualizar secundario")}})}showToast(t,i){this._toastrService.show("",i,{status:t,destroyByClick:!0,duration:3e3,hasIcon:!1,position:a.fe3.TOP_RIGHT,preventDuplicates:!0})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(l.qu),e.\u0275\u0275directiveInject(f.k),e.\u0275\u0275directiveInject(a.quB))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ngx-secundario-form"]],inputs:{primarioId:"primarioId",secundarioId:"secundarioId"},outputs:{afterSave:"afterSave",cancel:"cancel"},features:[e.\u0275\u0275NgOnChangesFeature],decls:7,vars:2,consts:[[1,"form-inline","w-100","justify-content-between",3,"formGroup"],["type","text","nbInput","","fullwidth","","fieldSize","small","placeholder","Nombre","formControlName","nombre"],[1,"d-flex","align-items-center","ml-2"],["nbButton","","size","small","status","info",3,"disabled","click"],[1,"pl-2","cursor-pointer",3,"click"],[1,"custom-icon","nb-close"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"form",0),e.\u0275\u0275element(1,"input",1),e.\u0275\u0275elementStart(2,"div",2)(3,"button",3),e.\u0275\u0275listener("click",function(){return i.saveSecundario()}),e.\u0275\u0275text(4,"Guardar"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"a",4),e.\u0275\u0275listener("click",function(){return i.cancel.emit()}),e.\u0275\u0275element(6,"i",5),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275property("formGroup",i.secundarioForm),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",!i.secundarioForm.valid))},dependencies:[l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,a.DPz,a.h8i],styles:[".custom-icon[_ngcontent-%COMP%]{display:inline-block;font-size:28px}"]}),n})();const R=["secundarioForm"];function M(n,s){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"nb-card")(1,"nb-card-header"),e.\u0275\u0275text(2," Editar secundario "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body")(4,"ngx-secundario-form",7),e.\u0275\u0275listener("afterSave",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return o.resetSelection(),e.\u0275\u0275resetView(o.getSecundario())})("cancel",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.resetSelection())}),e.\u0275\u0275elementEnd()()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("primarioId",t.primarioId)("secundarioId",t.selectedSecundario)}}let A=(()=>{class n{constructor(t,i,o,c){this._placeService=t,this._dialogService=i,this._toastrService=o,this._authService=c,this.selectItem=new e.EventEmitter,this.isAdmin=!1,this.secundarioList=[],this.showSecundarioForm=!1,this.settings={actions:{position:"right",add:!1,edit:!1,delete:!1,custom:[{name:"edit",title:'<i class="nb-edit"></i>'},{name:"delete",title:'<i class="nb-trash"></i>'}]},columns:{nombre_secundario:{title:"Nombre",type:"custom",renderComponent:x,onComponentInitFunction:u=>{u.clickLink.subscribe(p=>{this.selectSecundario(p.id_secundario)})}},estado:{title:"Estado",type:"custom",renderComponent:y.P,onComponentInitFunction:u=>{u.toggle.subscribe(p=>{this.updateStatus(p.row.id_secundario,p.value?"A":"I")})}}},noDataMessage:"No existen registros"},this.source=new v.nC,this.isAdmin=this._authService.isAdmin()}ngOnChanges(t){t?.primarioId?.currentValue?(this.primarioId=t?.primarioId?.currentValue,this.getSecundario()):this.secundarioList=[]}getSecundario(){this._placeService.getSecundarios({id_usuario:1,id_primario:this.primarioId}).subscribe({next:i=>{this.secundarioList=i,this.source.load(this.secundarioList)}})}editSecundario(t){this.selectedSecundario=t,this.editId=t}onCustom(t){switch(t.action){case"edit":this.editSecundario(t.data.id_secundario),this.openForm();break;case"delete":this.onDelete(t.data.id_secundario)}}openForm(){this.dialog=this._dialogService.open(this.secundarioForm)}onDelete(t){this._dialogService.open(P.S,{context:{title:"\xbfEst\xe1 seguro de borrar el registro?"}}).onClose.subscribe({next:i=>{i&&this.deleteSecundario(t)}})}deleteSecundario(t){this._placeService.deleteSecundario({id_secundario:t,usuario_modificacion:"admin"}).subscribe({next:()=>{this.showToast("success","Secundario eliminado"),this.getSecundario(),this.resetSelection()},error:()=>{this.showToast("danger","Error al eliminar secundario")}})}selectSecundario(t){this.selectedSecundario=t,this.selectItem.emit(this.selectedSecundario)}updateStatus(t,i){this._placeService.updateStatusSecundario({id_secundario:t,estado:i,usuario_modificacion:"admin"}).subscribe({next:()=>{this.showToast("success","Estado actualizado")},error:()=>{this.showToast("danger","Ha ocurrido un error. Intente nuevamente")}})}resetSelection(){this.selectedSecundario=null,this.showSecundarioForm=!1,this.editId=null,this.dialog.close()}showToast(t,i){this._toastrService.show("",i,{status:t,destroyByClick:!0,duration:3e3,hasIcon:!1,position:a.fe3.TOP_RIGHT,preventDuplicates:!0})}getTable(){return new Promise(t=>{const i=[];this.secundarioList.forEach(o=>{let c=new F.bs(o);i.push(c)}),setTimeout(()=>{t(i)},0)})}downloadReport(){var t=this;return(0,_.Z)(function*(){const i=yield t.getTable(),o=m.P6.json_to_sheet(i),c=m.P6.book_new();m.P6.book_append_sheet(c,o,"SheetName"),m.NC(c,"secundarios.xlsx")})()}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(f.k),e.\u0275\u0275directiveInject(a.Gln),e.\u0275\u0275directiveInject(a.quB),e.\u0275\u0275directiveInject(I.e))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ngx-secundario-list"]],viewQuery:function(t,i){if(1&t&&e.\u0275\u0275viewQuery(R,5),2&t){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.secundarioForm=o.first)}},inputs:{primarioId:"primarioId"},outputs:{selectItem:"selectItem"},features:[e.\u0275\u0275NgOnChangesFeature],decls:15,vars:3,consts:[[1,"w-100","d-flex","justify-content-between"],[1,""],["nbButton","","status","info","hero","",3,"click"],["nbButton","","hero","","status","success",1,"ml-2",3,"disabled","click"],[1,"material-symbols-outlined"],[1,"custom-table",3,"settings","source","custom"],["secundarioForm",""],[1,"w-100",3,"primarioId","secundarioId","afterSave","cancel"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"nb-card")(1,"nb-card-header",0)(2,"h5"),e.\u0275\u0275text(3,"secundarios"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",1)(5,"button",2),e.\u0275\u0275listener("click",function(){return i.openForm()}),e.\u0275\u0275text(6," Nuevo "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"button",3),e.\u0275\u0275listener("click",function(){return i.downloadReport()}),e.\u0275\u0275elementStart(8,"span",4),e.\u0275\u0275text(9,"download"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(10," Descargar "),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(11,"nb-card-body")(12,"ng2-smart-table",5),e.\u0275\u0275listener("custom",function(c){return i.onCustom(c)}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(13,M,5,2,"ng-template",null,6,e.\u0275\u0275templateRefExtractor)),2&t&&(e.\u0275\u0275advance(7),e.\u0275\u0275property("disabled",!i.secundarioList||0===i.secundarioList.length),e.\u0275\u0275advance(5),e.\u0275\u0275property("settings",i.settings)("source",i.source))},dependencies:[a.Asz,a.yKW,a.ndF,v.T5,a.DPz,j],styles:[".custom-icon[_ngcontent-%COMP%]{display:inline-block;font-size:28px}"]}),n})();const D=["stepper"],B=["primarioForm"];function V(n,s){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"ngx-secundario-list",15),e.\u0275\u0275listener("selectItem",function(o){e.\u0275\u0275restoreView(t);const c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.selectSecundario(o))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("primarioId",t.selectedPrimario)}}function z(n,s){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"ngx-residents-list",16),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("placeId",t.placeId)("secundarioId",t.selectedSecundario)}}function O(n,s){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"nb-card")(1,"nb-card-header"),e.\u0275\u0275text(2," Editar primario "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body")(4,"ngx-primario-form",17),e.\u0275\u0275listener("afterSave",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return o.resetSelection(),e.\u0275\u0275resetView(o.getPrimario())})("cancel",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.resetSelection())}),e.\u0275\u0275elementEnd()()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("placeId",t.placeId)("primarioId",t.selectedPrimario)}}let N=(()=>{class n{constructor(t,i,o,c,u){this._activatedRoute=t,this._placeService=i,this._dialogService=o,this._toastrService=c,this._authService=u,this.selectItem=new e.EventEmitter,this.isAdmin=!1,this.primarioList=[],this.showPrimarioForm=!1,this.showSecundarioForm=!1,this.secundarioList=[],this.settings={actions:{position:"right",add:!1,edit:!1,delete:!1,custom:[{name:"edit",title:'<i class="nb-edit"></i>'},{name:"delete",title:'<i class="nb-trash"></i>'}]},columns:{nombre_primario:{title:"Nombre",type:"custom",renderComponent:x,onComponentInitFunction:g=>{g.clickLink.subscribe(S=>{this.selectPrimario(S.id_primario)})}},estado:{title:"Estado",type:"custom",renderComponent:y.P,onComponentInitFunction:g=>{g.toggle.subscribe(S=>{this.updateStatus(S.row.id_primario,S.value?"A":"I")})}}},noDataMessage:"No existen registros"},this.source=new v.nC,this.isAdmin=this._authService.isAdmin();const p=this._activatedRoute.parent.snapshot.paramMap.get("placeId");p&&(this.placeId=parseInt(p))}ngOnInit(){this.getPrimario()}getPrimario(){this._placeService.getPrimarios({id_usuario:1,id_lugar:this.placeId}).subscribe({next:i=>{this.primarioList=i,this.source.load(this.primarioList)}})}editPrimario(t){this.selectedPrimario=t,this.editId=t}onCustom(t){switch(t.action){case"edit":this.editPrimario(t.data.id_primario),this.openForm();break;case"delete":this.onDelete(t.data.id_primario)}}openForm(){this.dialog=this._dialogService.open(this.primarioForm)}onDelete(t){this._dialogService.open(P.S,{context:{title:"\xbfEst\xe1 seguro de borrar el registro?"}}).onClose.subscribe({next:i=>{i&&this.deletePrimario(t)}})}deletePrimario(t){this._placeService.deletePrimario({id_primario:t,usuario_modificacion:"admin"}).subscribe({next:()=>{this.showToast("success","Primario eliminado"),this.getPrimario(),this.resetSelection()},error:()=>{this.showToast("danger","Error al eliminar primario")}})}updateStatus(t,i){this._placeService.updateStatusPrimario({id_primario:t,estado:i,usuario_modificacion:"admin"}).subscribe({next:()=>{this.showToast("success","Estado actualizado")},error:()=>{this.showToast("danger","Ha ocurrido un error. Intente nuevamente")}})}resetSelection(){this.selectedPrimario=null,this.selectedSecundario=null,this.showPrimarioForm=!1,this.editId=null,this.dialog.close()}selectPrimario(t){this.selectedPrimario=t,this.stepperComponent.next()}selectSecundario(t){this.selectedSecundario=t,this.stepperComponent.next()}showToast(t,i){this._toastrService.show("",i,{status:t,destroyByClick:!0,duration:3e3,hasIcon:!1,position:a.fe3.TOP_RIGHT,preventDuplicates:!0})}getTable(){return new Promise(t=>{const i=[];this.primarioList.forEach(o=>{let c=new F.a0(o);i.push(c)}),setTimeout(()=>{t(i)},0)})}downloadReport(){var t=this;return(0,_.Z)(function*(){const i=yield t.getTable(),o=m.P6.json_to_sheet(i),c=m.P6.book_new();m.P6.book_append_sheet(c,o,"SheetName"),m.NC(c,"primarios.xlsx")})()}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(h.gz),e.\u0275\u0275directiveInject(f.k),e.\u0275\u0275directiveInject(a.Gln),e.\u0275\u0275directiveInject(a.quB),e.\u0275\u0275directiveInject(I.e))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ngx-primario-list"]],viewQuery:function(t,i){if(1&t&&(e.\u0275\u0275viewQuery(D,5),e.\u0275\u0275viewQuery(B,5)),2&t){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.stepperComponent=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.primarioForm=o.first)}},inputs:{placeId:"placeId"},outputs:{selectItem:"selectItem"},decls:29,vars:6,consts:[["orientation","horizontal",3,"disableStepNavigation"],["stepper",""],["label","Primario"],[1,"w-100","d-flex","justify-content-between"],[1,""],["nbButton","","status","info","hero","",3,"click"],["nbButton","","hero","","status","success",1,"ml-2",3,"disabled","click"],[1,"material-symbols-outlined"],[1,"custom-table",3,"settings","source","custom"],["label","Secundario"],["nbButton","","appearance","filled","ghost","","size","tiny","nbStepperPrevious","",1,"d-flex","cursor-pointer","no-hover",3,"click"],[1,"custom-icon","nb-arrow-left"],[4,"ngIf"],["label","Residentes"],["primarioForm",""],[3,"primarioId","selectItem"],[3,"placeId","secundarioId"],[1,"w-100",3,"placeId","primarioId","afterSave","cancel"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"ngx-no-padding-layout")(1,"nb-stepper",0,1)(3,"nb-step",2)(4,"nb-card")(5,"nb-card-header",3)(6,"h5"),e.\u0275\u0275text(7,"Primarios"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"div",4)(9,"button",5),e.\u0275\u0275listener("click",function(){return i.openForm()}),e.\u0275\u0275text(10," Nuevo "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"button",6),e.\u0275\u0275listener("click",function(){return i.downloadReport()}),e.\u0275\u0275elementStart(12,"span",7),e.\u0275\u0275text(13,"download"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(14," Descargar "),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(15,"nb-card-body")(16,"ng2-smart-table",8),e.\u0275\u0275listener("custom",function(c){return i.onCustom(c)}),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(17,"nb-step",9)(18,"button",10),e.\u0275\u0275listener("click",function(){return i.selectedPrimario=null}),e.\u0275\u0275element(19,"i",11),e.\u0275\u0275text(20," Volver "),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(21,V,2,1,"ng-container",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"nb-step",13)(23,"button",10),e.\u0275\u0275listener("click",function(){return i.selectedSecundario=null}),e.\u0275\u0275element(24,"i",11),e.\u0275\u0275text(25," Volver "),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(26,z,2,2,"ng-container",12),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(27,O,5,2,"ng-template",null,14,e.\u0275\u0275templateRefExtractor)),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("disableStepNavigation",!0),e.\u0275\u0275advance(10),e.\u0275\u0275property("disabled",!i.primarioList||0===i.primarioList.length),e.\u0275\u0275advance(5),e.\u0275\u0275property("settings",i.settings)("source",i.source),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",i.selectedPrimario&&!i.editId),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",i.selectedSecundario))},dependencies:[b.O5,T.F,a.Asz,a.yKW,a.ndF,v.T5,a.DPz,a.TLo,a.Sv4,a.HFZ,E.o,L,A],styles:[".contact.selected[_ngcontent-%COMP%]{background-color:#edf1f7}.custom-icon[_ngcontent-%COMP%]{display:inline-block;font-size:28px}[_nghost-%COMP%]     nb-stepper .header{display:none}[_nghost-%COMP%]     [nbButton].appearance-ghost.status-basic:hover, .appearance-ghost.status-basic[nbButtonToggle][_ngcontent-%COMP%]:hover{background-color:transparent}[_nghost-%COMP%]     nb-stepper .step-content{padding:0}"]}),n})();var d=r(16469),$=r(98914);let G=(()=>{class n{constructor(t,i,o,c,u){this._placeService=t,this._activatedRoute=i,this._router=o,this._authService=c,this._menuService=u,this.isAdmin=!1,this.menu=[],this.isAdmin=this._authService.isAdmin(),this.placeId=parseInt(this._activatedRoute.snapshot.paramMap.get("placeId")),this.place=this._placeService.place$,this.menu=[{title:"MEN\xda",group:!0},{title:"Informaci\xf3n del lugar",icon:"list-outline",link:`/pages/lugares/${this.placeId}`,home:!0},{title:"Primarios y secundarios",icon:"grid-outline",link:`/pages/lugares/${this.placeId}/primario-secundario`,home:!1,hidden:!this._menuService.isActive(this.place,d.t.primariosSecundarios)},{title:"Residentes aprobados",icon:"person-done-outline",link:`/pages/lugares/${this.placeId}/residentes`,home:!1,hidden:!this._menuService.isActive(this.place,d.t.residentesPendientes)},{title:"Residentes pendientes",icon:"person-add-outline",link:`/pages/lugares/${this.placeId}/residentes/pendientes`,home:!1,hidden:!this._menuService.isActive(this.place,d.t.residentesActivos)},{title:"Residentes inactivos",icon:"person-delete-outline",link:`/pages/lugares/${this.placeId}/residentes/inactivos`,home:!1,hidden:!this._menuService.isActive(this.place,d.t.residentesInactivos)},{title:"Anuncios",icon:"alert-circle-outline",link:`/pages/lugares/${this.placeId}/anuncios`,home:!1,hidden:!this._menuService.isActive(this.place,d.t.anuncios)},{title:"Reportes",icon:"file-text-outline",link:`/pages/lugares/${this.placeId}/reportes`,home:!1,hidden:!this._menuService.isActive(this.place,d.t.reportes)},{title:"Servicios",icon:"book-open-outline",link:`/pages/lugares/${this.placeId}/servicios`,home:!1,hidden:!this._menuService.isActive(this.place,d.t.servicios)},{title:"Tarjetas",icon:"credit-card-outline",link:`/pages/lugares/${this.placeId}/tarjetas`,home:!1,hidden:!this._menuService.isActive(this.place,d.t.accesos)},{title:"Notificaciones",icon:"bell-outline",link:`/pages/lugares/${this.placeId}/notificaciones`,home:!1,children:[{title:"Enviar a Lugar",link:`/pages/lugares/${this.placeId}/notificaciones/lugar`,data:{tipo:"lugar"},home:!1},{title:`Enviar a ${this.place.primario}`,link:`/pages/lugares/${this.placeId}/notificaciones/primario`,data:{tipo:"primario"},home:!1},{title:`Enviar a ${this.place.secundario}`,link:`/pages/lugares/${this.placeId}/notificaciones/secundario`,data:{tipo:"secundario"},home:!1},{title:"Enviar a Residente",link:`/pages/lugares/${this.placeId}/notificaciones/residente`,data:{tipo:"residente"},home:!1}],hidden:!this._menuService.isActive(this.place,d.t.accesos)},{title:"Chat",icon:"message-square-outline",link:`/pages/lugares/${this.placeId}/chat`,home:!1,hidden:!this._menuService.isActive(this.place,d.t.chat)}],this._menuService.setMenu(this.menu)}ngOnDestroy(){this._menuService.setMenu([])}goBack(){this._router.navigateByUrl("/pages/lugares")}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(f.k),e.\u0275\u0275directiveInject(h.gz),e.\u0275\u0275directiveInject(h.F0),e.\u0275\u0275directiveInject(I.e),e.\u0275\u0275directiveInject($.h))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ngx-place-detail"]],decls:1,vars:0,template:function(t,i){1&t&&e.\u0275\u0275element(0,"router-outlet")},dependencies:[h.lC],encapsulation:2}),n})();var Q=r(41288),H=r(94176);const W=[{path:"",component:G,children:[{path:"",component:w.C},{path:"residentes",data:{status:["A"]},loadChildren:()=>Promise.resolve().then(r.bind(r,39263)).then(n=>n.ResidentsModule)},{path:"residentes/pendientes",data:{status:["P"]},loadChildren:()=>Promise.resolve().then(r.bind(r,39263)).then(n=>n.ResidentsModule)},{path:"residentes/inactivos",data:{status:["I","R","E"]},loadChildren:()=>Promise.resolve().then(r.bind(r,39263)).then(n=>n.ResidentsModule)},{path:"primario-secundario",component:N},{path:"anuncios",component:Q.n},{path:"reportes",component:(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ngx-access-report"]],decls:2,vars:0,template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"ngx-no-padding-layout"),e.\u0275\u0275element(1,"ngx-access-report-table"),e.\u0275\u0275elementEnd())},dependencies:[T.F,H.y]}),n})()},{path:"servicios",loadChildren:()=>r.e(444).then(r.bind(r,67444)).then(n=>n.AmenitiesModule)},{path:"reservaciones",loadChildren:()=>Promise.resolve().then(r.bind(r,73215)).then(n=>n.ReservationsModule)},{path:"tarjetas",loadChildren:()=>Promise.resolve().then(r.bind(r,50681)).then(n=>n.AccessCardsModule)},{path:"notificaciones",loadChildren:()=>r.e(961).then(r.bind(r,22961)).then(n=>n.NotificationsModule)},{path:"chat",loadChildren:()=>Promise.resolve().then(r.bind(r,51300)).then(n=>n.ChatModule)}]}];let Z=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[h.Bz.forChild(W),b.ez,h.Bz]}),n})(),K=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[k.O,Z,a.zyh,a.j5J,a._WB]}),n})()}}]);