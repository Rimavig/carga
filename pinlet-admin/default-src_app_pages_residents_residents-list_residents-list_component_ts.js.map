{"version":3,"file":"default-src_app_pages_residents_residents-list_residents-list_component_ts.js","mappings":"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","sources":["./src/app/pages/residents/resident-form/resident-form.component.ts","./src/app/pages/residents/resident-form/resident-form.component.html","./src/app/pages/residents/residents-list/residents-list.component.ts","./src/app/pages/residents/residents-list/residents-list.component.html"],"sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { PlaceService } from '../../../@core/services/place.service';\r\nimport { ResidentService } from '../../../services/resident.service';\r\nimport { NbDialogRef, NbGlobalPhysicalPosition, NbToastrService } from '@nebular/theme';\r\nimport { Permission } from '../../../@core/models/permission';\r\n\r\n@Component({\r\n\tselector: 'ngx-resident-form',\r\n\ttemplateUrl: './resident-form.component.html',\r\n\tstyleUrls: ['./resident-form.component.scss']\r\n})\r\nexport class ResidentFormComponent implements OnInit {\r\n\r\n\t@Input() resident: any;\r\n\t@Input() primario: string;\r\n\t@Input() secundario: string;\r\n\t@Input() onlyPermissions: boolean = false;\r\n\r\n\tisLoading: boolean = false;\r\n\tresidentForm: FormGroup;\r\n\tprimarioList: Array<any> = [];\r\n\tsecundarioList: Array<any> = [];\r\n\tselectedPrimario: number;\r\n\tpermissionList: Array<Permission> = [];\r\n\tselectedPermissions: Array<number> = [];\r\n\r\n\tconstructor(\r\n\t\tprivate _formBuilder: FormBuilder,\r\n\t\tprivate _placeService: PlaceService,\r\n\t\tprivate _residentService: ResidentService,\r\n\t\tprivate _toastrService: NbToastrService,\r\n\t\tprivate _dialogService: NbDialogRef<ResidentFormComponent>\r\n\t) {\r\n\t\tthis.initForm();\r\n\t}\r\n\r\n\tngOnInit(): void {\r\n\t\tthis.getPrimario();\r\n\t\tthis.getSecundario(this.resident.id_primario);\r\n\t\tthis.selectedPrimario = this.resident.id_primario;\r\n\t\tthis.residentForm.patchValue({\r\n\t\t\tid_secundario: this.resident.id_secundario\r\n\t\t});\r\n\t\tthis.getPermissions();\r\n\t}\r\n\r\n\tinitForm(): void {\r\n\t\tthis.residentForm = this._formBuilder.group({\r\n\t\t\tid_secundario: ['', Validators.required],\r\n\t\t\tusuario_modificacion: ['admin', Validators.required]\r\n\t\t});\r\n\t}\r\n\r\n\tgetPrimario(): void {\r\n\t\tconst params = {\r\n\t\t\tid_usuario: 1,\r\n\t\t\tid_lugar: this.resident.id_lugar\r\n\t\t};\r\n\r\n\t\tthis._placeService.getPrimarios(params)\r\n\t\t\t.subscribe({\r\n\t\t\t\tnext: (response: Array<any>) => {\r\n\t\t\t\t\tthis.primarioList = response;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tgetSecundario(idPrimario: number): void {\r\n\t\tconst params = {\r\n\t\t\tid_usuario: 1,\r\n\t\t\tid_primario: idPrimario\r\n\t\t};\r\n\r\n\t\tthis._placeService.getSecundarios(params)\r\n\t\t\t.subscribe({\r\n\t\t\t\tnext: (response: Array<any>) => {\r\n\t\t\t\t\tthis.secundarioList = response;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tonPrimarioChange(idPrimario: number): void {\r\n\t\tthis.residentForm.patchValue({\r\n\t\t\tid_secundario: null\r\n\t\t});\r\n\t\tthis.getSecundario(idPrimario);\r\n\t}\r\n\r\n\tupdateResidentPlace(): void {\r\n\t\tconst params = {\r\n\t\t\tid_residente_lugar: this.resident.id_residente_lugar,\r\n\t\t\tid_residente: this.resident.id_residente,\r\n\t\t\tdescripcion: this.resident.descripcion,\r\n\t\t\t...this.residentForm.value\r\n\t\t};\r\n\r\n\t\tthis._residentService.updateResidenteLugar(params)\r\n\t\t\t.subscribe({\r\n\t\t\t\tnext: () => {\r\n\t\t\t\t\tthis.showToast('success', 'Residencia actualizada');\r\n\t\t\t\t},\r\n\t\t\t\terror: () => {\r\n\t\t\t\t\tthis.showToast('danger', 'Error al actualizar');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tgetPermissions(): void {\r\n\t\tthis.isLoading = true;\r\n\t\tconst params = {\r\n\t\t\tid_residente_lugar: this.resident.id_residente_lugar,\r\n\t\t\tid_lugar: this.resident.id_lugar\r\n\t\t};\r\n\r\n\t\tthis._residentService.getPermissions(params)\r\n\t\t\t.subscribe({\r\n\t\t\t\tnext: (response: Array<Permission>) => {\r\n\t\t\t\t\tthis.permissionList = response;\r\n\t\t\t\t\tthis.permissionList.map(x => {\r\n\t\t\t\t\t\tif (x.estado == 'A') {\r\n\t\t\t\t\t\t\tthis.selectedPermissions.push(x.id_permiso);\r\n\t\t\t\t\t\t\tx.dependientes?.map(c => {\r\n\t\t\t\t\t\t\t\tif (c.estado == 'A') {\r\n\t\t\t\t\t\t\t\t\tthis.selectedPermissions.push(c.id_permiso);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.isLoading = false;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\taddOrRemovePermission(event: any, parentId: number, childId?: number): void {\r\n\t\tconst status = event ? 'A' : 'E'\r\n\r\n\t\tthis.permissionList = this.permissionList.map(x => {\r\n\t\t\tif (x.id_permiso == parentId) {\r\n\t\t\t\tif (childId) {\r\n\t\t\t\t\tif (event) {\r\n\t\t\t\t\t\tthis.selectedPermissions.push(childId);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.selectedPermissions = this.selectedPermissions.filter(p => p != childId);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tx.dependientes = x.dependientes.map(c => {\r\n\t\t\t\t\t\tif (c.id_permiso == childId) {\r\n\t\t\t\t\t\t\tc.estado = status;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn c;\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (event) {\r\n\t\t\t\t\t\tthis.selectedPermissions.push(parentId);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.selectedPermissions = this.selectedPermissions.filter(p => p != x.id_permiso);\r\n\t\t\t\t\t\tx.dependientes = x.dependientes.map(c => {\r\n\t\t\t\t\t\t\tthis.selectedPermissions = this.selectedPermissions.filter(p => p != c.id_permiso);\r\n\t\t\t\t\t\t\tc.estado = status;\r\n\t\t\t\t\t\t\treturn c;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tx.estado = status;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn x;\r\n\t\t});\r\n\t}\r\n\r\n\tupdatePermissions(): void {\r\n\t\tconst params = {\r\n\t\t\tid_residente_lugar: this.resident.id_residente_lugar,\r\n\t\t\tlista: this.selectedPermissions.sort((a, b) => a - b),\r\n\t\t\tusuario_modificacion: 'admin'\r\n\t\t};\r\n\r\n\t\tthis._residentService.updatePermissions(params)\r\n\t\t\t.subscribe({\r\n\t\t\t\tnext: () => {\r\n\t\t\t\t\tif (this.onlyPermissions) {\r\n\t\t\t\t\t\tthis._dialogService.close(true);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.showToast('success', 'Permisos actualizados');\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\terror: () => {\r\n\t\t\t\t\tthis.showToast('danger', 'Error al actualizar');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\t\r\n\tshowToast(type: string, text: string): void {\r\n\t\tconst config = {\r\n\t\t\tstatus: type,\r\n\t\t\tdestroyByClick: true,\r\n\t\t\tduration: 3000,\r\n\t\t\thasIcon: false,\r\n\t\t\tposition: NbGlobalPhysicalPosition.TOP_RIGHT,\r\n\t\t\tpreventDuplicates: true,\r\n\t\t};\r\n\r\n\t\tthis._toastrService.show(\r\n\t\t\t'',\r\n\t\t\ttext,\r\n\t\t\tconfig);\r\n\t}\r\n\r\n}\r\n","<div class=\"row detail-container\">\r\n\t<div class=\"col-lg-12\">\r\n\t\t<nb-card>\r\n\t\t\t<nb-card-header>Editar Residente</nb-card-header>\r\n\t\t\t<nb-card-body>\r\n\t\t\t\t<nb-tabset fullWidth>\r\n\t\t\t\t\t<nb-tab tabTitle=\"Información\" *ngIf=\"!onlyPermissions\">\r\n\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t<div class=\"col-md-6\">\r\n\t\t\t\t\t\t\t\t<div class=\"detail py-1\">\r\n\t\t\t\t\t\t\t\t\t<span>Nombres: {{resident.nombres}}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"col-md-6\">\r\n\t\t\t\t\t\t\t\t<div class=\"detail py-1\">\r\n\t\t\t\t\t\t\t\t\t<span>Apellidos: {{resident.apellidos}}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"col-md-6\">\r\n\t\t\t\t\t\t\t\t<div class=\"detail py-1\">\r\n\t\t\t\t\t\t\t\t\t<span>Cédula: {{resident.cedula}}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"col-md-6\">\r\n\t\t\t\t\t\t\t\t<div class=\"detail py-1\">\r\n\t\t\t\t\t\t\t\t\t<span>Correo: {{resident.correo}}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"col-md-6\">\r\n\t\t\t\t\t\t\t\t<div class=\"detail py-1\">\r\n\t\t\t\t\t\t\t\t\t<span>Celular: {{resident.celular}}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"col-md-6\">\r\n\t\t\t\t\t\t\t\t<div class=\"detail py-1\">\r\n\t\t\t\t\t\t\t\t\t<span>Descripción: {{resident.descripcion}}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</nb-tab>\r\n\t\t\t\t\t<nb-tab tabTitle=\"Residencia\" *ngIf=\"!onlyPermissions\">\r\n\t\t\t\t\t\t<form [formGroup]=\"residentForm\" class=\"mt-2\">\r\n\t\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t\t<div class=\"col-md-6\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n\t\t\t\t\t\t\t\t\t\t<label for=\"inputPrimario\" class=\"label\">{{primario}}</label>\r\n\t\t\t\t\t\t\t\t\t\t<nb-select fullWidth id=\"inputPrimario\" \r\n\t\t\t\t\t\t\t\t\t\t\t(selectedChange)=\"onPrimarioChange($event)\"\r\n\t\t\t\t\t\t\t\t\t\t\t[(ngModel)]=\"selectedPrimario\" \r\n\t\t\t\t\t\t\t\t\t\t\t[ngModelOptions]=\"{standalone: true}\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<nb-option *ngFor=\"let item of primarioList\" [value]=\"item.id_primario\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{item.nombre_primario}}\r\n\t\t\t\t\t\t\t\t\t\t\t</nb-option>\r\n\t\t\t\t\t\t\t\t\t\t</nb-select>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"col-md-6\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n\t\t\t\t\t\t\t\t\t\t<label for=\"inputSecundario\" class=\"label\">{{secundario}}</label>\r\n\t\t\t\t\t\t\t\t\t\t<nb-select fullWidth id=\"inputSecundario\" formControlName=\"id_secundario\" placeholder=\"Seleccionar una opción\">\r\n\t\t\t\t\t\t\t\t\t\t\t<nb-option *ngFor=\"let item of secundarioList\" [value]=\"item.id_secundario\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{item.nombre_secundario}}\r\n\t\t\t\t\t\t\t\t\t\t\t</nb-option>\r\n\t\t\t\t\t\t\t\t\t\t</nb-select>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t\t<div class=\"col-md-12\">\r\n\t\t\t\t\t\t\t\t\t<button nbButton status=\"info\" hero (click)=\"updateResidentPlace()\">Actualizar</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</nb-tab>\r\n\t\t\t\t\t<nb-tab tabTitle=\"Permisos\" [nbSpinner]=\"isLoading\">\r\n\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t<ng-container *ngFor=\"let item of permissionList\">\r\n\t\t\t\t\t\t\t\t<div class=\"col-6 py-1\">\r\n\t\t\t\t\t\t\t\t\t<nb-checkbox [checked]=\"item.estado === 'A'\" (checkedChange)=\"addOrRemovePermission($event, item.id_permiso)\">{{item.permiso}}</nb-checkbox>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<ng-container *ngIf=\"item.dependientes.length > 0\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"col-6 py-1\" *ngFor=\"let subitem of item.dependientes\">\r\n\t\t\t\t\t\t\t\t\t\t<nb-checkbox [checked]=\"subitem.estado === 'A'\" \r\n\t\t\t\t\t\t\t\t\t\t\t(checkedChange)=\"addOrRemovePermission($event, item.id_permiso, subitem.id_permiso)\"\r\n\t\t\t\t\t\t\t\t\t\t\t[disabled]=\"!selectedPermissions.includes(item.id_permiso)\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{subitem.nombre}}\r\n\t\t\t\t\t\t\t\t\t\t</nb-checkbox>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"row pt-1\">\r\n\t\t\t\t\t\t\t<div class=\"col-12\">\r\n\t\t\t\t\t\t\t\t<button nbButton status=\"info\" hero (click)=\"updatePermissions()\">Actualizar</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</nb-tab>\r\n\t\t\t\t</nb-tabset>\r\n\t\t\t</nb-card-body>\r\n\t\t</nb-card>\r\n\t</div>\r\n</div>\r\n","import { Component, Input, OnInit, TemplateRef, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { LocalDataSource } from 'ng2-smart-table';\r\nimport { ResidentService } from '../../../services/resident.service';\r\nimport { NbDialogService, NbGlobalPhysicalPosition, NbToastrService } from '@nebular/theme';\r\nimport { ConfirmationComponent } from '../../../@theme/components/confirmation/confirmation.component';\r\nimport { PlaceService } from '../../../@core/services/place.service';\r\nimport { Place } from '../../../@core/models/place';\r\nimport { StatusComponent } from '../../../@theme/components/status/status.component';\r\nimport { ResidentFormComponent } from '../resident-form/resident-form.component';\r\n\r\n@Component({\r\n\tselector: 'ngx-residents-list',\r\n\ttemplateUrl: './residents-list.component.html',\r\n\tstyleUrls: ['./residents-list.component.scss']\r\n})\r\nexport class ResidentsListComponent implements OnInit {\r\n\r\n\t@Input() placeId?: number;\r\n\t@Input() secundarioId?: number;\r\n\t@Input() status?: Array<string> = [\"T\"];\r\n\t@Input() primario?: string = \"Primario\";\r\n\t@Input() secundario?: string = \"Secundario\";\r\n\r\n\t@ViewChild('password') dialog: TemplateRef<any>;\r\n\r\n\tstatusList = {\r\n\t\t'T': 'Todos',\r\n\t\t'A': 'Activo',\r\n\t\t'P': 'Pendiente',\r\n\t\t'I': 'Inactivo',\r\n\t\t'R': 'Rechazado',\r\n\t\t'E': 'Eliminado'\r\n\t};\r\n\r\n\tcustomActions = {\r\n\t\tapprove: {\r\n\t\t\tname: 'approve',\r\n\t\t\ttitle: '<i class=\"nb-checkmark\" title=\"Aprobar\"></i>',\r\n\t\t},\r\n\t\tdecline: {\r\n\t\t\tname: 'decline',\r\n\t\t\ttitle: '<i class=\"nb-close\" title=\"Rechazar\"></i>',\r\n\t\t},\r\n\t\tedit: {\r\n\t\t\tname: 'edit',\r\n\t\t\ttitle: '<i class=\"nb-edit\"></i>',\r\n\t\t},\r\n\t\tdelete: {\r\n\t\t\tname: 'delete',\r\n\t\t\ttitle: '<i class=\"nb-trash\"></i>',\r\n\t\t},\r\n\t\tresetPassword: {\r\n\t\t\tname: 'resetPassword',\r\n\t\t\ttitle: '<img src=\"../../../../assets/images/key-outline.svg\" title=\"Restablecer contraseña\">'\r\n\t\t},\r\n\t\tlogout: {\r\n\t\t\tname: 'logout',\r\n\t\t\ttitle: '<img src=\"../../../../assets/images/log-out-outline.svg\" title=\"Cerrar sesión\">'\r\n\t\t},\r\n\t\tverify: {\r\n\t\t\tname: 'verify',\r\n\t\t\ttitle: '<img src=\"../../../../assets/images/person-done-outline.svg\" title=\"Verificar\">'\r\n\t\t},\r\n\t\tsendVerificationEmail: {\r\n\t\t\tname: 'sendVerificationEmail',\r\n\t\t\ttitle: '<i class=\"nb-email\" title=\"Enviar correo de verificación\"></i>',\r\n\t\t},\r\n\t\tupdatePlace: {\r\n\t\t\tname: 'updatePlace',\r\n\t\t\ttitle: '<i class=\"nb-home\" title=\"Solicitar actualización de lugar\"></i>',\r\n\t\t},\r\n\t\tupdateInfo: {\r\n\t\t\tname: 'updateInfo',\r\n\t\t\ttitle: '<i class=\"nb-list\" title=\"Solicitar actualización de información\"></i>',\r\n\t\t},\r\n\t\taccessReport: {\r\n\t\t\tname: 'accessReport',\r\n\t\t\ttitle: '<img src=\"../../../../assets/images/checklist.svg\" title=\"Reporte de ingreso\">',\r\n\t\t}\r\n\t};\r\n\t\r\n\tsettings = {\r\n\t\tactions: {\r\n\t\t\tposition: 'right',\r\n\t\t\tadd: false,\r\n\t\t\tedit: false,\r\n\t\t\tdelete: false,\r\n\t\t\tcustom: []\r\n\t\t},\r\n\t\tcolumns: {\r\n\t\t\tnombres: {\r\n\t\t\t\ttitle: 'Nombres',\r\n\t\t\t\ttype: 'string',\r\n\t\t\t\tfilter: true\r\n\t\t\t},\r\n\t\t\tapellidos: {\r\n\t\t\t\ttitle: 'Apellidos',\r\n\t\t\t\ttype: 'string',\r\n\t\t\t\tfilter: true\r\n\t\t\t},\r\n\t\t\tcedula: {\r\n\t\t\t\ttitle: 'Cedula',\r\n\t\t\t\ttype: 'string',\r\n\t\t\t\tfilter: true\r\n\t\t\t},\r\n\t\t\tcorreo: {\r\n\t\t\t\ttitle: 'Correo',\r\n\t\t\t\ttype: 'string',\r\n\t\t\t\tfilter: true\r\n\t\t\t},\r\n\t\t\tcelular: {\r\n\t\t\t\ttitle: 'Celular',\r\n\t\t\t\ttype: 'string',\r\n\t\t\t\tfilter: true\r\n\t\t\t},\r\n\t\t\tnombre_primario: {\r\n\t\t\t\ttitle: this.primario,\r\n\t\t\t\ttype: 'string',\r\n\t\t\t\tfilter: true\r\n\t\t\t},\r\n\t\t\tnombre_secundario: {\r\n\t\t\t\ttitle: this.secundario,\r\n\t\t\t\ttype: 'string',\r\n\t\t\t\tfilter: true\r\n\t\t\t},\r\n\t\t\tdescripcion: {\r\n\t\t\t\ttitle: 'Descripción',\r\n\t\t\t\ttype: 'string',\r\n\t\t\t\tfilter: true\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tselectedStatus: string;\r\n\r\n\tsource: LocalDataSource = new LocalDataSource();\r\n\t\r\n\tconstructor(\r\n\t\tprivate _router: Router,\r\n\t\tprivate _activatedRoute: ActivatedRoute,\r\n\t\tprivate _dialogService: NbDialogService,\r\n\t\tprivate _toastrService: NbToastrService,\r\n\t\tprivate _residentService: ResidentService,\r\n\t\tprivate _placeService: PlaceService\r\n\t) {\r\n\t\tconst placeId = this._activatedRoute.parent.snapshot.paramMap.get('placeId');\r\n\t\tif (!!placeId) {\r\n\t\t\tthis.placeId = parseInt(placeId);\r\n\t\t}\r\n\r\n\t\t// const status = this._activatedRoute.parent.snapshot.queryParamMap.get('status');\r\n\t\tconst status = this._activatedRoute.snapshot.data['status'];\r\n\t\tif (!!status) {\r\n\t\t\tthis.status = status;\r\n\t\t}\r\n\t}\r\n\r\n\tngOnInit(): void {\r\n\t\tthis._placeService.getPlace({ id_lugar: this.placeId })\r\n\t\t\t.subscribe((value: Place) => {\r\n\t\t\t\tthis.primario = value.primario;\r\n\t\t\t\tthis.secundario = value.secundario;\r\n\t\t\t});\r\n\t\tthis.selectedStatus = this.status[0];\r\n\t\tthis.getResidents(this.placeId, this.selectedStatus);\r\n\t\tthis.setActions();\r\n\t}\r\n\r\n\tsetActions(): void {\r\n\t\tthis.settings.actions.custom = [];\r\n\t\tswitch (this.selectedStatus) {\r\n\t\t\tcase \"P\":\r\n\t\t\t\tthis.settings.actions.custom.push(this.customActions.approve);\r\n\t\t\t\tthis.settings.actions.custom.push(this.customActions.decline);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"A\":\r\n\t\t\t\tthis.settings.actions.custom.push(...[\r\n\t\t\t\t\tthis.customActions.accessReport,\r\n\t\t\t\t\tthis.customActions.updatePlace,\r\n\t\t\t\t\tthis.customActions.updateInfo,\r\n\t\t\t\t\tthis.customActions.sendVerificationEmail,\r\n\t\t\t\t\tthis.customActions.verify,\r\n\t\t\t\t\tthis.customActions.logout,\r\n\t\t\t\t\tthis.customActions.resetPassword,\r\n\t\t\t\t\tthis.customActions.edit,\r\n\t\t\t\t\tthis.customActions.delete\r\n\t\t\t\t]);\r\n\t\t\t\tthis.settings.columns['estado'] = {\r\n\t\t\t\t\ttitle: 'Estado',\r\n\t\t\t\t\ttype: 'custom',\r\n\t\t\t\t\trenderComponent: StatusComponent,\r\n\t\t\t\t\tonComponentInitFunction: (instance: any) => {\r\n\t\t\t\t\t\tinstance.toggle.subscribe(async (event: any) => {\r\n\t\t\t\t\t\t\tconst status = event.value ? 'A' : 'I';\r\n\t\t\t\t\t\t\tawait this.updateStatus(event.row.id_residente_lugar, status);\r\n\t\t\t\t\t\t\tthis.getResidents(this.placeId, this.selectedStatus);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfilter: false\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"I\":\r\n\t\t\tcase \"R\":\r\n\t\t\tcase \"E\":\r\n\t\t\t\tthis.settings.actions.custom.push(this.customActions.approve);\r\n\t\t\t\tthis.settings.actions.custom.push(this.customActions.delete);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tgetResidents(placeId: number, status: string): void {\r\n\t\tthis.selectedStatus = status;\r\n\t\tif (!this.secundarioId) {\r\n\t\t\tconst params = {\r\n\t\t\t\tid_lugar: placeId,\r\n\t\t\t\testado: status\r\n\t\t\t};\r\n\t\t\tthis._residentService.getByPlace(params)\r\n\t\t\t.subscribe({\r\n\t\t\t\tnext: (response) => {\r\n\t\t\t\t\tthis.source.load(response);\r\n\t\t\t\t},\r\n\t\t\t\terror: (error) => {\r\n\t\t\t\t\tconsole.error(error);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis._residentService.getBySecundario({ id_secundario: this.secundarioId })\r\n\t\t\t.subscribe({\r\n\t\t\t\tnext: (response) => {\r\n\t\t\t\t\tthis.source.load(response);\r\n\t\t\t\t},\r\n\t\t\t\terror: (error) => {\r\n\t\t\t\t\tconsole.error(error);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tonCustom(event: any): void {\r\n\t\tswitch (event.action) {\r\n\t\t\tcase 'edit':\r\n\t\t\t\tthis._dialogService.open(ResidentFormComponent, {\r\n\t\t\t\t\tcontext: {\r\n\t\t\t\t\t\tresident: event.data,\r\n\t\t\t\t\t\tprimario: this.primario,\r\n\t\t\t\t\t\tsecundario: this.secundario\r\n\t\t\t\t\t}\r\n\t\t\t\t}).onClose.subscribe(() => {\r\n\t\t\t\t\tthis.getResidents(this.placeId, this.selectedStatus);\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'delete':\r\n\t\t\t\tif (this.selectedStatus == 'A') {\r\n\t\t\t\t\tthis.onUpdateStatus(event.data.id_residente_lugar, \"E\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.onDelete(event.data.id_residente_lugar);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'approve':\r\n\t\t\t\tthis.onApprove(event.data, \"A\");\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'decline':\r\n\t\t\t\tthis.onUpdateStatus(event.data.id_residente_lugar, \"R\");\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'resetPassword':\r\n\t\t\t\tthis.onResetPassword(event.data.id_residente);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'logout':\r\n\t\t\t\tthis.onResidentLogout(event.data.id_residente);\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 'verify':\r\n\t\t\t\tthis.onVerify(event.data.id_residente);\r\n\t\t\t\tbreak;\r\n\t\t\t\r\n\t\t\tcase 'sendVerificationEmail':\r\n\t\t\t\tthis.onSendVerificationEmail(event.data.id_residente);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'updatePlace':\r\n\t\t\t\tthis.onUpdatePlace(event.data.id_residente_lugar);\r\n\t\t\t\tbreak;\r\n\t\t\t\r\n\t\t\tcase 'updateInfo':\r\n\t\t\t\tthis.onUpdateInfo(event.data.id_residente);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'accessReport':\r\n\t\t\t\tthis.onAccessReport(event.data.id_residente_lugar, event.data.id_residente);\r\n\t\t\t\tbreak;\r\n\t\t\t\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tadd(): void {\r\n\t\tthis._router.navigate(['/pages/residentes/crear'])\r\n\t}\r\n\r\n\tonDelete(value: number): void {\r\n\t\tthis._dialogService.open(ConfirmationComponent, {\r\n\t\t\tcontext: {\r\n\t\t\t\ttitle: '¿Está seguro de eliminar el registro?',\r\n\t\t\t},\r\n\t\t}).onClose.subscribe({\r\n\t\t\tnext: (response => {\r\n\t\t\t\tif (response) {\r\n\t\t\t\t\tthis.deleteResident(value);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t}\r\n\r\n\tdeleteResident(residentPlaceId: number): void {\r\n\t\tconst params = {\r\n\t\t\tid_residente_lugar: residentPlaceId,\r\n\t\t\tusuario_modificacion: 'admin'\r\n\t\t};\r\n\t\tthis._residentService.delete(params)\r\n\t\t\t.subscribe({\r\n\t\t\t\tnext: () => {\r\n\t\t\t\t\tthis.showToast('success', 'Residente eliminado');\r\n\t\t\t\t\tthis.getResidents(this.placeId, this.selectedStatus);\r\n\t\t\t\t},\r\n\t\t\t\terror: () => {\r\n\t\t\t\t\tthis.showToast('danger', 'Error al eliminar el residente');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tonApprove(value: any, status: string): void {\r\n\t\tthis._dialogService.open(ResidentFormComponent, {\r\n\t\t\tcontext: {\r\n\t\t\t\tresident: value,\r\n\t\t\t\tprimario: this.primario,\r\n\t\t\t\tsecundario: this.secundario,\r\n\t\t\t\tonlyPermissions: true\r\n\t\t\t}\r\n\t\t}).onClose.subscribe(async (response) => {\r\n\t\t\tif (response) {\r\n\t\t\t\tawait this.updateStatus(value.id_residente_lugar, status);\r\n\t\t\t\tthis.getResidents(this.placeId, this.selectedStatus);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonUpdateStatus(value: number, status: string): void {\r\n\t\tthis._dialogService.open(ConfirmationComponent, {\r\n\t\t\tcontext: {\r\n\t\t\t\ttitle: '¿Está seguro de actulizar el estado del registro?',\r\n\t\t\t},\r\n\t\t}).onClose.subscribe({\r\n\t\t\tnext: (async (response) => {\r\n\t\t\t\tif (response) {\r\n\t\t\t\t\tawait this.updateStatus(value, status);\r\n\t\t\t\t\tthis.getResidents(this.placeId, this.selectedStatus);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t}\r\n\r\n\tupdateStatus(residentPlaceId: any, status: string): Promise<void> {\r\n\t\treturn new Promise((resolve) => {\r\n\t\t\tconst params = {\r\n\t\t\t\tid_residente_lugar: residentPlaceId,\r\n\t\t\t\testado: status,\r\n\t\t\t\tusuario_modificacion: 'admin'\r\n\t\t\t};\r\n\t\t\tthis._residentService.updateStatus(params)\r\n\t\t\t\t.subscribe({\r\n\t\t\t\t\tnext: () => {\r\n\t\t\t\t\t\tthis.showToast('success', 'Estado actualizado');\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: () => {\r\n\t\t\t\t\t\tthis.showToast('danger', 'Ha ocurrido un error. Intente nuevamente');\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t}, 0);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t})\r\n\t}\r\n\r\n\tonResetPassword(value: number): void {\r\n\t\tthis._dialogService.open(ConfirmationComponent, {\r\n\t\t\tcontext: {\r\n\t\t\t\ttitle: '¿Está seguro de restablecer la contraseña del residente?',\r\n\t\t\t},\r\n\t\t}).onClose.subscribe({\r\n\t\t\tnext: (response => {\r\n\t\t\t\tif (response) {\r\n\t\t\t\t\tthis.resetPassword(value);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t}\r\n\r\n\tresetPassword(residentId: number): void {\r\n\t\tconst params = {\r\n\t\t\tid_residente: residentId,\r\n\t\t\tusuario_modificacion: 'admin'\r\n\t\t};\r\n\t\tthis._residentService.resetPassword(params)\r\n\t\t\t.subscribe({\r\n\t\t\t\tnext: (response) => {\r\n\t\t\t\t\tthis._dialogService.open(this.dialog, {\r\n\t\t\t\t\t\tcontext: response.clave\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\terror: () => {\r\n\t\t\t\t\tthis.showToast('danger', 'Ha ocurrido un error. Intente nuevamente');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tonResidentLogout(value: number): void {\r\n\t\tthis._dialogService.open(ConfirmationComponent, {\r\n\t\t\tcontext: {\r\n\t\t\t\ttitle: '¿Está seguro de cerrar la sesión del residente?',\r\n\t\t\t},\r\n\t\t}).onClose.subscribe({\r\n\t\t\tnext: (response => {\r\n\t\t\t\tif (response) {\r\n\t\t\t\t\tthis.residentLogout(value);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t}\r\n\r\n\tresidentLogout(residentId: number): void {\r\n\t\tconst params = {\r\n\t\t\tid_residente: residentId,\r\n\t\t\tusuario_modificacion: 'admin'\r\n\t\t};\r\n\t\tthis._residentService.residentLogout(params)\r\n\t\t\t.subscribe({\r\n\t\t\t\tnext: () => {\r\n\t\t\t\t\tthis.showToast('success', 'Sesión finalizada');\r\n\t\t\t\t},\r\n\t\t\t\terror: () => {\r\n\t\t\t\t\tthis.showToast('danger', 'Ha ocurrido un error. Intente nuevamente');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tonVerify(value: number): void {\r\n\t\tthis._dialogService.open(ConfirmationComponent, {\r\n\t\t\tcontext: {\r\n\t\t\t\ttitle: '¿Está seguro de verificar la cuenta del residente?',\r\n\t\t\t},\r\n\t\t}).onClose.subscribe({\r\n\t\t\tnext: (response => {\r\n\t\t\t\tif (response) {\r\n\t\t\t\t\tthis.verify(value);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t}\r\n\r\n\tverify(residentId: number): void {\r\n\t\tconst params = {\r\n\t\t\tid_residente: residentId,\r\n\t\t\tusuario_modificacion: 'admin'\r\n\t\t};\r\n\t\tthis._residentService.verify(params)\r\n\t\t\t.subscribe({\r\n\t\t\t\tnext: () => {\r\n\t\t\t\t\tthis.showToast('success', 'Cuenta verificada');\r\n\t\t\t\t},\r\n\t\t\t\terror: () => {\r\n\t\t\t\t\tthis.showToast('danger', 'Ha ocurrido un error. Intente nuevamente');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tonSendVerificationEmail(value: number): void {\r\n\t\tthis._dialogService.open(ConfirmationComponent, {\r\n\t\t\tcontext: {\r\n\t\t\t\ttitle: '¿Está seguro de enviar el correo de verificación al residente?',\r\n\t\t\t},\r\n\t\t}).onClose.subscribe({\r\n\t\t\tnext: (response => {\r\n\t\t\t\tif (response) {\r\n\t\t\t\t\tthis.sendVerificationEmail(value);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t}\r\n\r\n\tsendVerificationEmail(residentId: number): void {\r\n\t\tconst params = {\r\n\t\t\tid_residente: residentId,\r\n\t\t\tusuario_modificacion: 'admin'\r\n\t\t};\r\n\t\tthis._residentService.sendVerificationEmail(params)\r\n\t\t\t.subscribe({\r\n\t\t\t\tnext: () => {\r\n\t\t\t\t\tthis.showToast('success', 'Correo enviado');\r\n\t\t\t\t},\r\n\t\t\t\terror: () => {\r\n\t\t\t\t\tthis.showToast('danger', 'Ha ocurrido un error. Intente nuevamente');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tonUpdatePlace(value: number): void {\r\n\t\tthis._dialogService.open(ConfirmationComponent, {\r\n\t\t\tcontext: {\r\n\t\t\t\ttitle: '¿Está seguro de solicitar la actualización de lugar?',\r\n\t\t\t},\r\n\t\t}).onClose.subscribe({\r\n\t\t\tnext: (response => {\r\n\t\t\t\tif (response) {\r\n\t\t\t\t\tthis.updatePlace(value);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t}\r\n\r\n\tupdatePlace(residentPlaceId: number): void {\r\n\t\tconst params = {\r\n\t\t\tid_residente_lugar: residentPlaceId,\r\n\t\t\testado: 'S',\r\n\t\t\tusuario_modificacion: 'admin'\r\n\t\t};\r\n\t\tthis._residentService.updatePlace(params)\r\n\t\t\t.subscribe({\r\n\t\t\t\tnext: () => {\r\n\t\t\t\t\tthis.showToast('success', 'Solicitud establecida');\r\n\t\t\t\t},\r\n\t\t\t\terror: () => {\r\n\t\t\t\t\tthis.showToast('danger', 'Ha ocurrido un error. Intente nuevamente');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tonUpdateInfo(value: number): void {\r\n\t\tthis._dialogService.open(ConfirmationComponent, {\r\n\t\t\tcontext: {\r\n\t\t\t\ttitle: '¿Está seguro de solicitar la actualización de información?',\r\n\t\t\t},\r\n\t\t}).onClose.subscribe({\r\n\t\t\tnext: (response => {\r\n\t\t\t\tif (response) {\r\n\t\t\t\t\tthis.updateInfo(value);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t}\r\n\r\n\tupdateInfo(residentId: number): void {\r\n\t\tconst params = {\r\n\t\t\tid_residente: residentId,\r\n\t\t\testado: 'P',\r\n\t\t\tusuario_modificacion: 'admin'\r\n\t\t};\r\n\t\tthis._residentService.updateInfo(params)\r\n\t\t\t.subscribe({\r\n\t\t\t\tnext: () => {\r\n\t\t\t\t\tthis.showToast('success', 'Solicitud establecida');\r\n\t\t\t\t},\r\n\t\t\t\terror: () => {\r\n\t\t\t\t\tthis.showToast('danger', 'Ha ocurrido un error. Intente nuevamente');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tonAccessReport(residentPlaceId: number, residentId: number): void {\r\n\t\tthis._router.navigateByUrl(`/pages/reporte-ingreso?idResidente=${residentId}&idResidenteLugar=${residentPlaceId}`);\r\n\t}\r\n\r\n\tshowToast(type: string, text: string): void {\r\n\t\tconst config = {\r\n\t\t\tstatus: type,\r\n\t\t\tdestroyByClick: true,\r\n\t\t\tduration: 3000,\r\n\t\t\thasIcon: false,\r\n\t\t\tposition: NbGlobalPhysicalPosition.TOP_RIGHT,\r\n\t\t\tpreventDuplicates: true,\r\n\t\t};\r\n\r\n\t\tthis._toastrService.show('', text, config);\r\n\t}\r\n\r\n}\r\n","<nb-card>\r\n\t<nb-card-header class=\"w-100 d-flex justify-content-between\">\r\n\t\t<h5>Residentes</h5>\r\n\t\t<div class=\"d-flex\">\r\n\t\t\t<ng-container *ngIf=\"status.length > 1\">\r\n\t\t\t\t<nb-select class=\"pr-4\" \r\n\t\t\t\t\tstatus=\"basic\"\r\n\t\t\t\t\t[selected]=\"selectedStatus\" \r\n\t\t\t\t\t(selectedChange)=\"getResidents(placeId, $event)\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<nb-option *ngFor=\"let item of status\" [value]=\"item\">\r\n\t\t\t\t\t\t{{statusList[item]}}\r\n\t\t\t\t\t</nb-option>\r\n\t\t\t\t</nb-select>\r\n\t\t\t</ng-container>\r\n\t\t</div>\r\n\t</nb-card-header>\r\n\r\n\t<nb-card-body>\r\n\t\t<ng2-smart-table class=\"custom-table\" \r\n\t\t\t[settings]=\"settings\" \r\n\t\t\t[source]=\"source\" \r\n\t\t\t(custom)=\"onCustom($event)\">\r\n\t\t</ng2-smart-table>\r\n\t</nb-card-body>\r\n</nb-card>\r\n\r\n<ng-template let-data #password>\r\n\t<div class=\"password-container\">\r\n\t\t<h6>Clave temporal del usuario</h6>\r\n\t\t<p class=\"text-center pt-3\">{{data}}</p>\r\n\t</div>\r\n</ng-template>\r\n"],"names":["TemplateRef","LocalDataSource","NbGlobalPhysicalPosition","ConfirmationComponent","StatusComponent","ResidentFormComponent","i0","ResidentsListComponent","constructor","_router","_activatedRoute","_dialogService","_toastrService","_residentService","_placeService","approve","name","title","decline","edit","delete","resetPassword","logout","verify","sendVerificationEmail","updatePlace","updateInfo","accessReport","actions","position","add","custom","columns","nombres","type","filter","apellidos","cedula","correo","celular","nombre_primario","primario","nombre_secundario","secundario","descripcion","placeId","parent","snapshot","paramMap","get","parseInt","status","data","ngOnInit","getPlace","id_lugar","subscribe","value","selectedStatus","getResidents","setActions","settings","push","customActions","renderComponent","onComponentInitFunction","instance","toggle","event","updateStatus","row","id_residente_lugar","secundarioId","params","estado","getByPlace","next","response","source","load","error","console","getBySecundario","id_secundario","onCustom","action","open","context","resident","onClose","onUpdateStatus","onDelete","onApprove","onResetPassword","id_residente","onResidentLogout","onVerify","onSendVerificationEmail","onUpdatePlace","onUpdateInfo","onAccessReport","navigate","deleteResident","residentPlaceId","usuario_modificacion","showToast","onlyPermissions","Promise","resolve","complete","setTimeout","residentId","dialog","clave","residentLogout","navigateByUrl","text","config","destroyByClick","duration","hasIcon","TOP_RIGHT","preventDuplicates","show","selectors","viewQuery","ctx"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}