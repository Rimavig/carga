{"version":3,"file":"src_app_pages_provinces_provinces_module_ts.js","mappings":"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","sources":["./src/app/pages/cities/cities-list/cities-list.component.ts","./src/app/pages/cities/cities-list/cities-list.component.html","./src/app/pages/provinces/province-form/province-form.component.ts","./src/app/pages/provinces/province-form/province-form.component.html","./src/app/pages/provinces/provinces-routing.module.ts","./src/app/pages/provinces/provinces.component.ts","./src/app/pages/provinces/provinces.module.ts"],"sourcesContent":["import { Component, Input, OnChanges, SimpleChanges } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { NbDialogService, NbGlobalPhysicalPosition, NbToastrService } from '@nebular/theme';\r\nimport { LocalDataSource } from 'ng2-smart-table';\r\nimport { CityService } from '../../../@core/services/city.service';\r\nimport { ConfirmationComponent } from '../../../@theme/components/confirmation/confirmation.component';\r\nimport { StatusComponent } from '../../../@theme/components/status/status.component';\r\n\r\n@Component({\r\n\tselector: 'ngx-cities-list',\r\n\ttemplateUrl: './cities-list.component.html',\r\n\tstyleUrls: ['./cities-list.component.scss']\r\n})\r\nexport class CitiesListComponent implements OnChanges {\r\n\r\n\t@Input() provinceId: any;\r\n\r\n\tsettings = {\r\n\t\tactions: {\r\n\t\t\tposition: 'right',\r\n\t\t\tadd: false,\r\n\t\t\tedit: false,\r\n\t\t\tdelete: false,\r\n\t\t\tcustom: [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'edit',\r\n\t\t\t\t\ttitle: '<i class=\"nb-edit\"></i>'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'delete',\r\n\t\t\t\t\ttitle: '<i class=\"nb-trash\"></i>'\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\tcolumns: {\r\n\t\t\tnombre: {\r\n\t\t\t\ttitle: 'Nombre',\r\n\t\t\t\ttype: 'string'\r\n\t\t\t},\r\n\t\t\testado: {\r\n\t\t\t\ttitle: 'Estado',\r\n\t\t\t\ttype: 'custom',\r\n\t\t\t\trenderComponent: StatusComponent,\r\n\t\t\t\tonComponentInitFunction: (instance: any) => {\r\n\t\t\t\t\tinstance.toggle.subscribe(event => {\r\n\t\t\t\t\t\tconst status = event.value ? 'A' : 'I';\r\n\t\t\t\t\t\tthis.updateStatus(event.row.id_ciudad, status);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tnoDataMessage: \"No existen registros\"\r\n\t};\r\n\tsource: LocalDataSource = new LocalDataSource();\r\n\r\n\tconstructor(\r\n\t\tprivate _router: Router,\r\n\t\tprivate _dialogService: NbDialogService,\r\n\t\tprivate _toastrService: NbToastrService,\r\n\t\tprivate _cityService: CityService\r\n\t) { }\r\n\r\n\tngOnChanges(changes: SimpleChanges): void {\r\n\t\tif (!!changes['provinceId']?.currentValue) {\r\n\t\t\tthis.provinceId = changes['provinceId']?.currentValue;\r\n\t\t\tthis.getCities(this.provinceId);\r\n\t\t}\r\n\t}\r\n\r\n\tgetCities(provinceId: any): void {\r\n\t\tconst params = {\r\n\t\t\tid_usuario: \"1\",\r\n\t\t\tid_provincia: provinceId\r\n\t\t};\r\n\r\n\t\tthis._cityService.getByProvince(params)\r\n\t\t\t.subscribe({\r\n\t\t\t\tnext: (response) => {\r\n\t\t\t\t\tconst data = response.filter(x => x.estado != 'E');\r\n\t\t\t\t\tthis.source.load(data);\r\n\t\t\t\t},\r\n\t\t\t\terror: (error) => {\r\n\t\t\t\t\tconsole.error(error);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tonCustom(event: any): void {\r\n\t\tswitch (event.action) {\r\n\t\t\tcase 'edit':\r\n\t\t\t\tthis._router.navigateByUrl(`/pages/ciudades/editar/${event.data.id_ciudad}?idProvincia=${this.provinceId}`)\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'delete':\r\n\t\t\t\tthis.onDelete(event.data.id_ciudad);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tonDelete(value: number): void {\r\n\t\tthis._dialogService.open(ConfirmationComponent, {\r\n\t\t\tcontext: {\r\n\t\t\t\ttitle: '¿Está seguro de eliminar el registro?',\r\n\t\t\t},\r\n\t\t})\r\n\t\t\t.onClose.subscribe({\r\n\t\t\t\tnext: (response => {\r\n\t\t\t\t\tif (response) {\r\n\t\t\t\t\t\tthis.deleteCity(value);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t}\r\n\r\n\tupdateStatus(cityId: any, status: string): void {\r\n\t\tconst params = {\r\n\t\t\tid_ciudad: cityId,\r\n\t\t\testado: status,\r\n\t\t\tusuario_modificacion: 'admin'\r\n\t\t};\r\n\t\tthis._cityService.updateStatus(params)\r\n\t\t\t.subscribe({\r\n\t\t\t\tnext: () => {\r\n\t\t\t\t\tthis.showToast('success', 'Estado de ciudad actualizado');\r\n\t\t\t\t},\r\n\t\t\t\terror: () => {\r\n\t\t\t\t\tthis.showToast('danger', 'Ha ocurrido un error. Intente nuevamente');\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\tdeleteCity(cityId: number): void {\r\n\t\tconst params = {\r\n\t\t\tid_ciudad: cityId,\r\n\t\t\tusuario_modificacion: 'admin'\r\n\t\t};\r\n\t\tthis._cityService.delete(params)\r\n\t\t\t.subscribe({\r\n\t\t\t\tnext: () => {\r\n\t\t\t\t\tthis.showToast('success', 'Ciudad eliminada');\r\n\t\t\t\t\tthis.getCities(this.provinceId);\r\n\t\t\t\t},\r\n\t\t\t\terror: () => {\r\n\t\t\t\t\tthis.showToast('danger', 'Error al eliminar la ciudad');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tshowToast(type: string, text: string): void {\r\n\t\tconst config = {\r\n\t\t\tstatus: type,\r\n\t\t\tdestroyByClick: true,\r\n\t\t\tduration: 3000,\r\n\t\t\thasIcon: false,\r\n\t\t\tposition: NbGlobalPhysicalPosition.TOP_RIGHT,\r\n\t\t\tpreventDuplicates: true,\r\n\t\t};\r\n\r\n\t\tthis._toastrService.show('', text, config);\r\n\t}\r\n\r\n}\r\n","<ng2-smart-table class=\"custom-table\" \r\n\t[settings]=\"settings\" \r\n\t[source]=\"source\" \r\n\t(custom)=\"onCustom($event)\">\r\n</ng2-smart-table>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { NbGlobalPhysicalPosition, NbToastrService } from '@nebular/theme';\r\nimport { Province } from '../../../@core/models/province';\r\nimport { Status } from '../../../@core/models/status';\r\nimport { ProvinceService } from '../../../@core/services/province.service';\r\n\r\n@Component({\r\n\tselector: 'ngx-province-form',\r\n\ttemplateUrl: './province-form.component.html',\r\n\tstyleUrls: ['./province-form.component.scss']\r\n})\r\nexport class ProvinceFormComponent implements OnInit {\r\n\r\n\taction: string;\r\n\tcountryId: any;\r\n\tprovinceId: any;\r\n\tprovinceForm: FormGroup;\r\n\tcities: Array<any> = [];\r\n\tstatusOptions: Array<any> = [\r\n\t\t{ key: 'Activo', value: Status.ACTIVO },\r\n\t\t{ key: 'Inactivo', value: Status.INACTIVO },\r\n\t\t{ key: 'Pendiente', value: Status.PENDIENTE }\r\n\t];\r\n\tselectedStatus: string;\r\n\r\n\tconstructor(\r\n\t\tprivate _router: Router,\r\n\t\tprivate _formBuilder: FormBuilder,\r\n\t\tprivate _activatedRoute: ActivatedRoute,\r\n\t\tprivate _provinceService: ProvinceService,\r\n\t\tprivate _toastrService: NbToastrService\r\n\t) {\r\n\t\tthis._activatedRoute.params\r\n\t\t\t.subscribe(param => {\r\n\t\t\t\tthis.provinceId = param.id;\r\n\t\t\t});\r\n\t\tthis._activatedRoute.queryParams\r\n\t\t\t.subscribe(param => {\r\n\t\t\t\tthis.countryId = param.idPais;\r\n\t\t\t})\r\n\r\n\t\tthis.initForm();\r\n\t}\r\n\r\n\tngOnInit(): void {\r\n\t\tif (!!this.provinceId) {\r\n\t\t\tthis.getProvince();\r\n\t\t\tthis.action = 'Editar';\r\n\t\t} else {\r\n\t\t\tthis.action = 'Crear';\r\n\t\t}\r\n\t}\r\n\r\n\tinitForm(): void {\r\n\t\tthis.provinceForm = this._formBuilder.group(\r\n\t\t\t{\r\n\t\t\t\tid_pais: [this.countryId, Validators.required],\r\n\t\t\t\tnombre: ['', Validators.required],\r\n\t\t\t\testado: [''],\r\n\t\t\t\tusuario_creacion: ['admin', Validators.required]\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tgetProvince(): void {\r\n\t\tthis._provinceService.getById({ id_provincia: this.provinceId })\r\n\t\t\t.subscribe({\r\n\t\t\t\tnext: (response: Province) => {\r\n\t\t\t\t\tthis.provinceForm.patchValue(response);\r\n\t\t\t\t\tthis.countryId = this.provinceForm.get('id_pais').value;\r\n\t\t\t\t\tthis.selectedStatus = response.estado;\r\n\t\t\t\t},\r\n\t\t\t\terror: (error) => {\r\n\t\t\t\t\tconsole.error(error);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tsave(): void {\r\n\t\tif (!!this.provinceId) {\r\n\t\t\tthis.update();\r\n\t\t} else {\r\n\t\t\tthis.create();\r\n\t\t}\r\n\t}\r\n\r\n\tcreate(): void {\r\n\t\tthis._provinceService.create(this.provinceForm.value)\r\n\t\t\t.subscribe({\r\n\t\t\t\tnext: () => {\r\n\t\t\t\t\tthis.showToast('success', 'Provincia creada');\r\n\t\t\t\t\tthis.goBack();\r\n\t\t\t\t},\r\n\t\t\t\terror: () => {\r\n\t\t\t\t\tthis.showToast('danger', 'Ha ocurrido un error. Intente nuevamente');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tupdate(): void {\r\n\t\tconst params = {\r\n\t\t\tid_provincia: this.provinceId,\r\n\t\t\tid_pais: this.provinceForm.value.id_pais,\r\n\t\t\tnombre: this.provinceForm.value.nombre,\r\n\t\t\tusuario_modificacion: 'admin'\r\n\t\t};\r\n\t\tthis._provinceService.update(params)\r\n\t\t\t.subscribe({\r\n\t\t\t\tnext: () => {\r\n\t\t\t\t\tthis.showToast('success', 'Provincia actualizada');\r\n\t\t\t\t},\r\n\t\t\t\terror: () => {\r\n\t\t\t\t\tthis.showToast('danger', 'Ha ocurrido un error. Intente nuevamente');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tchangeStatus(status: string): void {\r\n\t\tif (status !== this.selectedStatus) {\r\n\t\t\tthis.selectedStatus = status;\r\n\t\t\tconst params = {\r\n\t\t\t\tid_provincia: this.provinceId,\r\n\t\t\t\testado: status,\r\n\t\t\t\tusuario_modificacion: 'admin'\r\n\t\t\t};\r\n\t\t\tthis._provinceService.updateStatus(params)\r\n\t\t\t.subscribe({\r\n\t\t\t\tnext: () => {\r\n\t\t\t\t\tthis.showToast('success', '¡Se ha cambiado el estado!');\r\n\t\t\t\t},\r\n\t\t\t\terror: () => {\r\n\t\t\t\t\tthis.showToast('danger', '¡No se ha podido cambiar el estado!');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tshowToast(type: string, text: string): void {\r\n\t\tconst config = {\r\n\t\t\tstatus: type,\r\n\t\t\tdestroyByClick: true,\r\n\t\t\tduration: 3000,\r\n\t\t\thasIcon: false,\r\n\t\t\tposition: NbGlobalPhysicalPosition.TOP_RIGHT,\r\n\t\t\tpreventDuplicates: true,\r\n\t\t};\r\n\r\n\t\tthis._toastrService.show('', text, config);\r\n\t}\r\n\r\n\tadd(): void {\r\n\t\tthis._router.navigateByUrl(`/pages/ciudades/crear?idProvincia=${this.provinceId}`)\r\n\t}\r\n\r\n\tgoBack(): void {\r\n\t\tthis._router.navigate([`/pages/paises/editar/${this.countryId}`])\r\n\t}\r\n\r\n}\r\n","<div class=\"row\">\r\n\t<div class=\"col-lg-12\">\r\n\t\t<nb-card>\r\n\t\t\t<nb-card-header class=\"w-100 d-flex justify-content-between\">\r\n\t\t\t\t<div class=\"d-flex align-items-center h5\">\r\n\t\t\t\t\t<a class=\"d-flex cursor-pointer no-hover pr-2\" (click)=\"goBack()\">\r\n\t\t\t\t\t\t<i class=\"custom-icon nb-arrow-left\"></i>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t<h5>{{action}} Provincia</h5>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<button nbButton status=\"info\" hero (click)=\"save()\">\r\n\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</nb-card-header>\r\n\t\t\t<nb-card-body>\r\n\t\t\t\t<form [formGroup]=\"provinceForm\">\r\n\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t<div class=\"col-sm-4\">\r\n\t\t\t\t\t\t\t<div class=\"form-group\">\r\n\t\t\t\t\t\t\t\t<label for=\"inputNombre\" class=\"label\">Nombre</label>\r\n\t\t\t\t\t\t\t\t<input type=\"text\"\r\n\t\t\t\t\t\t\t\t\tnbInput \r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tid=\"inputNombre\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Nombre\"\r\n\t\t\t\t\t\t\t\t\tformControlName=\"nombre\">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- <div class=\"col-sm-4\">\r\n\t\t\t\t\t\t\t<div class=\"form-group\">\r\n\t\t\t\t\t\t\t\t<label for=\"inputEstado\" class=\"label\">Estado</label>\r\n\t\t\t\t\t\t\t\t<nb-select fullWidth\r\n\t\t\t\t\t\t\t\t\tid=\"inputEstado\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Seleccione una opción\"\r\n\t\t\t\t\t\t\t\t\tformControlName=\"estado\"\r\n\t\t\t\t\t\t\t\t\t(selectedChange)=\"changeStatus($event)\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<nb-option *ngFor=\"let item of statusOptions\" [value]=\"item.value\">\r\n\t\t\t\t\t\t\t\t\t\t{{item.key}}\r\n\t\t\t\t\t\t\t\t\t</nb-option>\r\n\t\t\t\t\t\t\t\t</nb-select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div> -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\r\n\t\t\t\t<!-- Ciudades -->\r\n\t\t\t\t<ng-container *ngIf=\"provinceId\">\r\n\t\t\t\t\t<div class=\"w-100 d-flex justify-content-between py-3\">\r\n\t\t\t\t\t\t<h6>Ciudades</h6>\r\n\t\t\t\t\t\t<div class=\"\">\r\n\t\t\t\t\t\t\t<button nbButton status=\"info\" hero (click)=\"add()\">\r\n\t\t\t\t\t\t\t\tNuevo\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<ngx-cities-list [provinceId]=\"provinceId\"></ngx-cities-list>\r\n\t\t\t\t</ng-container>\r\n\t\t\t</nb-card-body>\r\n\t\t</nb-card>\r\n\t</div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { ProvincesListComponent } from './provinces-list/provinces-list.component';\r\nimport { ProvincesComponent } from './provinces.component';\r\nimport { ProvinceFormComponent } from './province-form/province-form.component';\r\n\r\nconst routes: Routes = [\r\n\t{\r\n\t\tpath: '',\r\n\t\tcomponent: ProvincesComponent,\r\n\t\tchildren: [\r\n\t\t\t{\r\n\t\t\t\tpath: '',\r\n\t\t\t\tcomponent: ProvincesListComponent\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: 'crear',\r\n\t\t\t\tcomponent: ProvinceFormComponent\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: 'editar/:id',\r\n\t\t\t\tcomponent: ProvinceFormComponent\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n];\r\n\r\n@NgModule({\r\n\tdeclarations: [],\r\n\timports: [\r\n\t\tRouterModule.forChild(routes)\r\n\t],\r\n\texports: [\r\n\t\tRouterModule\r\n\t]\r\n})\r\nexport class ProvincesRoutingModule { }","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n\tselector: 'ngx-provinces',\r\n\ttemplate: `<router-outlet></router-outlet>`\r\n})\r\nexport class ProvincesComponent {\r\n\r\n\tconstructor() { }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ProvincesComponent } from './provinces.component';\r\nimport { ProvinceFormComponent } from './province-form/province-form.component';\r\nimport { CitiesListComponent } from '../cities/cities-list/cities-list.component';\r\nimport { ProvincesRoutingModule } from './provinces-routing.module';\r\nimport { Ng2SmartTableModule } from 'ng2-smart-table';\r\nimport { NbButtonModule, NbCardModule, NbInputModule, NbSelectModule } from '@nebular/theme';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\n\r\n@NgModule({\r\n\tdeclarations: [\r\n\t\tProvincesComponent,\r\n\t\tProvinceFormComponent,\r\n\t\tCitiesListComponent\r\n\t],\r\n\timports: [\r\n\t\tCommonModule,\r\n\t\tReactiveFormsModule,\r\n\t\tProvincesRoutingModule,\r\n\t\tNg2SmartTableModule,\r\n\t\tNbCardModule,\r\n\t\tNbInputModule,\r\n\t\tNbButtonModule,\r\n\t\tNbSelectModule\r\n\t]\r\n})\r\nexport class ProvincesModule { }\r\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}