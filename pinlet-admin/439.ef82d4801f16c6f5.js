"use strict";(self.webpackChunkngx_admin_demo=self.webpackChunkngx_admin_demo||[]).push([[439],{94439:(Z,b,a)=>{a.r(b),a.d(b,{PlaceDetailModule:()=>J});var F=a(9434),I=a(36895),p=a(7672),T=a(14019),g=a(46609),C=a(15861),e=a(30551),o=a(36517),P=a(42658),y=a(36749),v=a(74385);let w=(()=>{class r{constructor(){this.clickLink=new e.EventEmitter}ngOnInit(){this.renderValue=this.value.toString()}onClick(){this.clickLink.emit(this.rowData)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["ng-component"]],inputs:{value:"value",rowData:"rowData"},outputs:{clickLink:"clickLink"},decls:2,vars:1,consts:[[1,"cursor-pointer",3,"click"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"a",0),e.\u0275\u0275listener("click",function(){return i.onClick()}),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(i.renderValue))},encapsulation:2}),r})();var k=a(7224),u=a(80574),h=a(12368),x=a(37556),c=a(24006);let L=(()=>{class r{constructor(t,i,n){this._formBuilder=t,this._placeService=i,this._toastrService=n,this.afterSave=new e.EventEmitter,this.cancel=new e.EventEmitter,this.initForm(this.placeId)}ngOnInit(){this.primarioId&&this.getPrimario()}ngOnChanges(t){t?.placeId?.currentValue&&(this.placeId=t?.placeId?.currentValue,this.primarioForm.get("id_lugar").setValue(this.placeId))}initForm(t){this.primarioForm=this._formBuilder.group({id_lugar:[t,c.kI.required],id_primario:[""],nombre:["",c.kI.required],usuario_creacion:["admin",c.kI.required]})}getPrimario(){this._placeService.getPrimarioById({id_primario:this.primarioId}).subscribe({next:i=>{this.primarioForm.patchValue(i),this.primarioForm.patchValue({nombre:i.nombre_primario})},error:()=>{this.showToast("danger","Error al consultar primario")}})}savePrimario(){this.primarioId?this.updatePrimario():this.createPrimario()}createPrimario(){this._placeService.createPrimario(this.primarioForm.value).subscribe({next:()=>{this.showToast("success","Primario creado"),this.afterSave.emit()},error:()=>{this.showToast("danger","Error al crear primario")}})}updatePrimario(){const{usuario_creacion:t,...i}=this.primarioForm.value,n={...i,usuario_modificacion:"admin"};this._placeService.updatePrimario(n).subscribe({next:()=>{this.showToast("success","Primario actualizado"),this.afterSave.emit()},error:()=>{this.showToast("danger","Error al actualizar primario")}})}showToast(t,i){this._toastrService.show("",i,{status:t,destroyByClick:!0,duration:3e3,hasIcon:!1,position:o.fe3.TOP_RIGHT,preventDuplicates:!0})}}return r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(c.qu),e.\u0275\u0275directiveInject(h.k),e.\u0275\u0275directiveInject(o.quB))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["ngx-primario-form"]],inputs:{placeId:"placeId",primarioId:"primarioId"},outputs:{afterSave:"afterSave",cancel:"cancel"},features:[e.\u0275\u0275NgOnChangesFeature],decls:7,vars:2,consts:[[1,"form-inline","w-100","justify-content-between",3,"formGroup"],["type","text","nbInput","","fullwidth","","fieldSize","small","placeholder","Nombre","formControlName","nombre"],[1,"d-flex","align-items-center","ml-2"],["nbButton","","size","small","status","info",3,"disabled","click"],[1,"pl-2","cursor-pointer",3,"click"],[1,"custom-icon","nb-close"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"form",0),e.\u0275\u0275element(1,"input",1),e.\u0275\u0275elementStart(2,"div",2)(3,"button",3),e.\u0275\u0275listener("click",function(){return i.savePrimario()}),e.\u0275\u0275text(4,"Guardar"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"a",4),e.\u0275\u0275listener("click",function(){return i.cancel.emit()}),e.\u0275\u0275element(6,"i",5),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275property("formGroup",i.primarioForm),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",!i.primarioForm.valid))},dependencies:[c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,o.DPz,o.h8i],styles:[".custom-icon[_ngcontent-%COMP%]{display:inline-block;font-size:28px}"]}),r})(),E=(()=>{class r{constructor(t,i,n){this._formBuilder=t,this._placeService=i,this._toastrService=n,this.afterSave=new e.EventEmitter,this.cancel=new e.EventEmitter,this.initForm(this.primarioId)}ngOnInit(){this.secundarioId&&this.getSecundario()}ngOnChanges(t){t?.primarioId?.currentValue&&(this.primarioId=t?.primarioId?.currentValue,this.secundarioForm.get("id_primario").setValue(this.primarioId))}initForm(t){this.secundarioForm=this._formBuilder.group({id_primario:[t,c.kI.required],id_secundario:[""],nombre:["",c.kI.required],usuario_creacion:["admin",c.kI.required]})}getSecundario(){this._placeService.getSecundarioById({id_secundario:this.secundarioId}).subscribe({next:i=>{this.secundarioForm.patchValue(i),this.secundarioForm.patchValue({nombre:i.nombre_secundario})},error:()=>{this.showToast("danger","Error al consultar secundario")}})}saveSecundario(){this.secundarioId?this.updateSecundario():this.createSecundario()}createSecundario(){this._placeService.createSecundario(this.secundarioForm.value).subscribe({next:()=>{this.showToast("success","Secundario creado"),this.afterSave.emit()},error:()=>{this.showToast("danger","Error al crear secundario")}})}updateSecundario(){const{usuario_creacion:t,...i}=this.secundarioForm.value,n={...i,usuario_modificacion:"admin"};this._placeService.updateSecundario(n).subscribe({next:()=>{this.showToast("success","Secundario actualizado"),this.afterSave.emit()},error:()=>{this.showToast("danger","Error al actualizar secundario")}})}showToast(t,i){this._toastrService.show("",i,{status:t,destroyByClick:!0,duration:3e3,hasIcon:!1,position:o.fe3.TOP_RIGHT,preventDuplicates:!0})}}return r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(c.qu),e.\u0275\u0275directiveInject(h.k),e.\u0275\u0275directiveInject(o.quB))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["ngx-secundario-form"]],inputs:{primarioId:"primarioId",secundarioId:"secundarioId"},outputs:{afterSave:"afterSave",cancel:"cancel"},features:[e.\u0275\u0275NgOnChangesFeature],decls:7,vars:2,consts:[[1,"form-inline","w-100","justify-content-between",3,"formGroup"],["type","text","nbInput","","fullwidth","","fieldSize","small","placeholder","Nombre","formControlName","nombre"],[1,"d-flex","align-items-center","ml-2"],["nbButton","","size","small","status","info",3,"disabled","click"],[1,"pl-2","cursor-pointer",3,"click"],[1,"custom-icon","nb-close"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"form",0),e.\u0275\u0275element(1,"input",1),e.\u0275\u0275elementStart(2,"div",2)(3,"button",3),e.\u0275\u0275listener("click",function(){return i.saveSecundario()}),e.\u0275\u0275text(4,"Guardar"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"a",4),e.\u0275\u0275listener("click",function(){return i.cancel.emit()}),e.\u0275\u0275element(6,"i",5),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275property("formGroup",i.secundarioForm),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",!i.secundarioForm.valid))},dependencies:[c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,o.DPz,o.h8i],styles:[".custom-icon[_ngcontent-%COMP%]{display:inline-block;font-size:28px}"]}),r})();const j=["secundarioForm"];function B(r,s){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"nb-card")(1,"nb-card-header"),e.\u0275\u0275text(2," Editar secundario "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body")(4,"ngx-secundario-form",7),e.\u0275\u0275listener("afterSave",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return n.resetSelection(),e.\u0275\u0275resetView(n.getSecundario())})("cancel",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.resetSelection())}),e.\u0275\u0275elementEnd()()()}if(2&r){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("primarioId",t.primarioId)("secundarioId",t.selectedSecundario)}}let D=(()=>{class r{constructor(t,i,n,l){this._placeService=t,this._dialogService=i,this._toastrService=n,this._authService=l,this.selectItem=new e.EventEmitter,this.isAdmin=!1,this.secundarioList=[],this.showSecundarioForm=!1,this.settings={actions:{position:"right",add:!1,edit:!1,delete:!1,custom:[{name:"edit",title:'<i class="nb-edit"></i>'},{name:"delete",title:'<i class="nb-trash"></i>'}]},columns:{nombre_secundario:{title:"Nombre",type:"custom",renderComponent:w,onComponentInitFunction:f=>{f.clickLink.subscribe(m=>{this.selectSecundario(m.id_secundario)})}},estado:{title:"Estado",type:"custom",renderComponent:y.P,onComponentInitFunction:f=>{f.toggle.subscribe(m=>{this.updateStatus(m.row.id_secundario,m.value?"A":"I")})}}},noDataMessage:"No existen registros"},this.source=new v.nC,this.isAdmin=this._authService.isAdmin()}ngOnChanges(t){t?.primarioId?.currentValue?(this.primarioId=t?.primarioId?.currentValue,this.getSecundario()):this.secundarioList=[]}getSecundario(){this._placeService.getSecundarios({id_usuario:1,id_primario:this.primarioId}).subscribe({next:i=>{this.secundarioList=i,this.source.load(this.secundarioList)}})}editSecundario(t){this.selectedSecundario=t,this.editId=t}onCustom(t){switch(t.action){case"edit":this.editSecundario(t.data.id_secundario),this.openForm();break;case"delete":this.onDelete(t.data.id_provincia)}}openForm(){this.dialog=this._dialogService.open(this.secundarioForm)}onDelete(t){this._dialogService.open(P.S,{context:{title:"\xbfEst\xe1 seguro de borrar el registro?"}}).onClose.subscribe({next:i=>{i&&this.deleteSecundario(t)}})}deleteSecundario(t){this._placeService.deleteSecundario({id_secundario:t,usuario_modificacion:"admin"}).subscribe({next:()=>{this.showToast("success","Secundario eliminado"),this.getSecundario(),this.resetSelection()},error:()=>{this.showToast("danger","Error al eliminar secundario")}})}selectSecundario(t){this.selectedSecundario=t,this.selectItem.emit(this.selectedSecundario)}updateStatus(t,i){this._placeService.updateStatusSecundario({id_secundario:t,estado:i,usuario_modificacion:"admin"}).subscribe({next:()=>{this.showToast("success","Estado actualizado")},error:()=>{this.showToast("danger","Ha ocurrido un error. Intente nuevamente")}})}resetSelection(){this.selectedSecundario=null,this.showSecundarioForm=!1,this.editId=null,this.dialog.close()}showToast(t,i){this._toastrService.show("",i,{status:t,destroyByClick:!0,duration:3e3,hasIcon:!1,position:o.fe3.TOP_RIGHT,preventDuplicates:!0})}getTable(){return new Promise(t=>{const i=[];this.secundarioList.forEach(n=>{let l=new k.bs(n);i.push(l)}),setTimeout(()=>{t(i)},0)})}downloadReport(){var t=this;return(0,C.Z)(function*(){const i=yield t.getTable(),n=u.P6.json_to_sheet(i),l=u.P6.book_new();u.P6.book_append_sheet(l,n,"SheetName"),u.NC(l,"secundarios.xlsx")})()}}return r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(h.k),e.\u0275\u0275directiveInject(o.Gln),e.\u0275\u0275directiveInject(o.quB),e.\u0275\u0275directiveInject(x.e))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["ngx-secundario-list"]],viewQuery:function(t,i){if(1&t&&e.\u0275\u0275viewQuery(j,5),2&t){let n;e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(i.secundarioForm=n.first)}},inputs:{primarioId:"primarioId"},outputs:{selectItem:"selectItem"},features:[e.\u0275\u0275NgOnChangesFeature],decls:15,vars:3,consts:[[1,"w-100","d-flex","justify-content-between"],[1,""],["nbButton","","status","info","hero","",3,"click"],["nbButton","","hero","","status","success",1,"ml-2",3,"disabled","click"],[1,"material-symbols-outlined"],[1,"custom-table",3,"settings","source","custom"],["secundarioForm",""],[1,"w-100",3,"primarioId","secundarioId","afterSave","cancel"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"nb-card")(1,"nb-card-header",0)(2,"h5"),e.\u0275\u0275text(3,"secundarios"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",1)(5,"button",2),e.\u0275\u0275listener("click",function(){return i.openForm()}),e.\u0275\u0275text(6," Nuevo "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"button",3),e.\u0275\u0275listener("click",function(){return i.downloadReport()}),e.\u0275\u0275elementStart(8,"span",4),e.\u0275\u0275text(9,"download"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(10," Descargar "),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(11,"nb-card-body")(12,"ng2-smart-table",5),e.\u0275\u0275listener("custom",function(l){return i.onCustom(l)}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(13,B,5,2,"ng-template",null,6,e.\u0275\u0275templateRefExtractor)),2&t&&(e.\u0275\u0275advance(7),e.\u0275\u0275property("disabled",!i.secundarioList||0===i.secundarioList.length),e.\u0275\u0275advance(5),e.\u0275\u0275property("settings",i.settings)("source",i.source))},dependencies:[o.Asz,o.yKW,o.ndF,v.T5,o.DPz,E],styles:[".custom-icon[_ngcontent-%COMP%]{display:inline-block;font-size:28px}"]}),r})();const z=["stepper"],V=["primarioForm"];function R(r,s){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"ngx-secundario-list",15),e.\u0275\u0275listener("selectItem",function(n){e.\u0275\u0275restoreView(t);const l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.selectSecundario(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&r){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("primarioId",t.selectedPrimario)}}function A(r,s){if(1&r&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"ngx-residents-list",16),e.\u0275\u0275elementContainerEnd()),2&r){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("placeId",t.placeId)("secundarioId",t.selectedSecundario)}}function M(r,s){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"nb-card")(1,"nb-card-header"),e.\u0275\u0275text(2," Editar primario "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body")(4,"ngx-primario-form",17),e.\u0275\u0275listener("afterSave",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return n.resetSelection(),e.\u0275\u0275resetView(n.getPrimario())})("cancel",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.resetSelection())}),e.\u0275\u0275elementEnd()()()}if(2&r){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("placeId",t.placeId)("primarioId",t.selectedPrimario)}}let N=(()=>{class r{constructor(t,i,n,l,f){this._activatedRoute=t,this._placeService=i,this._dialogService=n,this._toastrService=l,this._authService=f,this.selectItem=new e.EventEmitter,this.isAdmin=!1,this.primarioList=[],this.showPrimarioForm=!1,this.showSecundarioForm=!1,this.secundarioList=[],this.settings={actions:{position:"right",add:!1,edit:!1,delete:!1,custom:[{name:"edit",title:'<i class="nb-edit"></i>'},{name:"delete",title:'<i class="nb-trash"></i>'}]},columns:{nombre_primario:{title:"Nombre",type:"custom",renderComponent:w,onComponentInitFunction:_=>{_.clickLink.subscribe(S=>{this.selectPrimario(S.id_primario)})}},estado:{title:"Estado",type:"custom",renderComponent:y.P,onComponentInitFunction:_=>{_.toggle.subscribe(S=>{this.updateStatus(S.row.id_primario,S.value?"A":"I")})}}},noDataMessage:"No existen registros"},this.source=new v.nC,this.isAdmin=this._authService.isAdmin();const m=this._activatedRoute.parent.snapshot.paramMap.get("placeId");m&&(this.placeId=parseInt(m))}ngOnInit(){this.getPrimario()}getPrimario(){this._placeService.getPrimarios({id_usuario:1,id_lugar:this.placeId}).subscribe({next:i=>{this.primarioList=i,this.source.load(this.primarioList)}})}editPrimario(t){this.selectedPrimario=t,this.editId=t}onCustom(t){switch(t.action){case"edit":this.editPrimario(t.data.id_primario),this.openForm();break;case"delete":this.onDelete(t.data.id_primario)}}openForm(){this.dialog=this._dialogService.open(this.primarioForm)}onDelete(t){this._dialogService.open(P.S,{context:{title:"\xbfEst\xe1 seguro de borrar el registro?"}}).onClose.subscribe({next:i=>{i&&this.deletePrimario(t)}})}deletePrimario(t){this._placeService.deletePrimario({id_primario:t,usuario_modificacion:"admin"}).subscribe({next:()=>{this.showToast("success","Primario eliminado"),this.getPrimario(),this.resetSelection()},error:()=>{this.showToast("danger","Error al eliminar primario")}})}updateStatus(t,i){this._placeService.updateStatusPrimario({id_primario:t,estado:i,usuario_modificacion:"admin"}).subscribe({next:()=>{this.showToast("success","Estado actualizado")},error:()=>{this.showToast("danger","Ha ocurrido un error. Intente nuevamente")}})}resetSelection(){this.selectedPrimario=null,this.selectedSecundario=null,this.showPrimarioForm=!1,this.editId=null,this.dialog.close()}selectPrimario(t){this.selectedPrimario=t,this.stepperComponent.next()}selectSecundario(t){this.selectedSecundario=t,this.stepperComponent.next()}showToast(t,i){this._toastrService.show("",i,{status:t,destroyByClick:!0,duration:3e3,hasIcon:!1,position:o.fe3.TOP_RIGHT,preventDuplicates:!0})}getTable(){return new Promise(t=>{const i=[];this.primarioList.forEach(n=>{let l=new k.a0(n);i.push(l)}),setTimeout(()=>{t(i)},0)})}downloadReport(){var t=this;return(0,C.Z)(function*(){const i=yield t.getTable(),n=u.P6.json_to_sheet(i),l=u.P6.book_new();u.P6.book_append_sheet(l,n,"SheetName"),u.NC(l,"primarios.xlsx")})()}}return r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(p.gz),e.\u0275\u0275directiveInject(h.k),e.\u0275\u0275directiveInject(o.Gln),e.\u0275\u0275directiveInject(o.quB),e.\u0275\u0275directiveInject(x.e))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["ngx-primario-list"]],viewQuery:function(t,i){if(1&t&&(e.\u0275\u0275viewQuery(z,5),e.\u0275\u0275viewQuery(V,5)),2&t){let n;e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(i.stepperComponent=n.first),e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(i.primarioForm=n.first)}},inputs:{placeId:"placeId"},outputs:{selectItem:"selectItem"},decls:28,vars:6,consts:[["orientation","horizontal",3,"disableStepNavigation"],["stepper",""],["label","Primario"],[1,"w-100","d-flex","justify-content-between"],[1,""],["nbButton","","status","info","hero","",3,"click"],["nbButton","","hero","","status","success",1,"ml-2",3,"disabled","click"],[1,"material-symbols-outlined"],[1,"custom-table",3,"settings","source","custom"],["label","Secundario"],["nbButton","","appearance","filled","ghost","","size","tiny","nbStepperPrevious","",1,"d-flex","cursor-pointer","no-hover",3,"click"],[1,"custom-icon","nb-arrow-left"],[4,"ngIf"],["label","Residentes"],["primarioForm",""],[3,"primarioId","selectItem"],[3,"placeId","secundarioId"],[1,"w-100",3,"placeId","primarioId","afterSave","cancel"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"nb-stepper",0,1)(2,"nb-step",2)(3,"nb-card")(4,"nb-card-header",3)(5,"h5"),e.\u0275\u0275text(6,"Primarios"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",4)(8,"button",5),e.\u0275\u0275listener("click",function(){return i.openForm()}),e.\u0275\u0275text(9," Nuevo "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"button",6),e.\u0275\u0275listener("click",function(){return i.downloadReport()}),e.\u0275\u0275elementStart(11,"span",7),e.\u0275\u0275text(12,"download"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(13," Descargar "),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(14,"nb-card-body")(15,"ng2-smart-table",8),e.\u0275\u0275listener("custom",function(l){return i.onCustom(l)}),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(16,"nb-step",9)(17,"button",10),e.\u0275\u0275listener("click",function(){return i.selectedPrimario=null}),e.\u0275\u0275element(18,"i",11),e.\u0275\u0275text(19," Volver "),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(20,R,2,1,"ng-container",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"nb-step",13)(22,"button",10),e.\u0275\u0275listener("click",function(){return i.selectedSecundario=null}),e.\u0275\u0275element(23,"i",11),e.\u0275\u0275text(24," Volver "),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(25,A,2,2,"ng-container",12),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(26,M,5,2,"ng-template",null,14,e.\u0275\u0275templateRefExtractor)),2&t&&(e.\u0275\u0275property("disableStepNavigation",!0),e.\u0275\u0275advance(10),e.\u0275\u0275property("disabled",!i.primarioList||0===i.primarioList.length),e.\u0275\u0275advance(5),e.\u0275\u0275property("settings",i.settings)("source",i.source),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",i.selectedPrimario&&!i.editId),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",i.selectedSecundario))},dependencies:[I.O5,o.Asz,o.yKW,o.ndF,v.T5,o.DPz,o.TLo,o.Sv4,o.HFZ,g.o,L,D],styles:[".contact.selected[_ngcontent-%COMP%]{background-color:#edf1f7}.custom-icon[_ngcontent-%COMP%]{display:inline-block;font-size:28px}[_nghost-%COMP%]     nb-stepper .header{display:none}[_nghost-%COMP%]     [nbButton].appearance-ghost.status-basic:hover, .appearance-ghost.status-basic[nbButtonToggle][_ngcontent-%COMP%]:hover{background-color:transparent}"]}),r})();var d=(()=>{return(r=d||(d={}))[r.residentesPendientes=1]="residentesPendientes",r[r.residentesActivos=2]="residentesActivos",r[r.residentesInactivos=3]="residentesInactivos",r[r.anuncios=4]="anuncios",r[r.primariosSecundarios=5]="primariosSecundarios",r[r.reportes=6]="reportes",r[r.chat=7]="chat",d;var r})();let $=(()=>{class r{constructor(t,i,n){this._placeService=t,this._activatedRoute=i,this._router=n,this.menu=[],this.tabs=[],this.placeId=parseInt(this._activatedRoute.snapshot.paramMap.get("placeId")),this.place=this._placeService.place$,this.menu=[{title:"Informaci\xf3n del lugar",icon:"list-outline",link:`/pages/lugares/${this.placeId}`,home:!0},{title:"Primarios y secundarios",icon:"grid-outline",link:`/pages/lugares/${this.placeId}/primario-secundario`,home:!1},{title:"Residentes aprobados",icon:"checkmark-outline",link:`/pages/lugares/${this.placeId}/residentes`,home:!1},{title:"Residentes pendientes",icon:"alert-circle-outline",link:`/pages/lugares/${this.placeId}/residentes/pendientes`,home:!1}],this.tabs=[{title:"Informaci\xf3n del lugar",route:`/pages/lugares/${this.placeId}`},{title:"Primarios y secundarios",route:`/pages/lugares/${this.placeId}/primario-secundario`,disabled:!this.isActive(d.primariosSecundarios)},{title:"Residentes pendientes",route:`/pages/lugares/${this.placeId}/residentes/pendientes`,disabled:!this.isActive(d.residentesPendientes)},{title:"Residentes aprobados",route:`/pages/lugares/${this.placeId}/residentes`,disabled:!this.isActive(d.residentesActivos)},{title:"Residentes inactivos",route:`/pages/lugares/${this.placeId}/residentes/inactivos`,disabled:!this.isActive(d.residentesInactivos)},{title:"Anuncios",route:`/pages/lugares/${this.placeId}/anuncios`,disabled:!this.isActive(d.anuncios)},{title:"Reportes",route:`/pages/lugares/${this.placeId}/reportes`,disabled:!this.isActive(d.reportes)},{title:"Chat",route:`/pages/lugares/${this.placeId}/chat`,disabled:!this.isActive(d.chat)}]}isActive(t){return"A"==this.place?.opciones.find(n=>n.id_opcion==t)?.estado}goBack(){this._router.navigateByUrl("/pages/lugares")}}return r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(h.k),e.\u0275\u0275directiveInject(p.gz),e.\u0275\u0275directiveInject(p.F0))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["ngx-place-detail"]],decls:7,vars:1,consts:[[1,"w-100","d-flex","align-items-center"],[1,"d-flex","cursor-pointer","no-hover","pr-2","h5","m-0",3,"click"],[1,"custom-icon","nb-arrow-left"],[3,"tabs"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"nb-card")(1,"nb-card-header",0)(2,"a",1),e.\u0275\u0275listener("click",function(){return i.goBack()}),e.\u0275\u0275element(3,"i",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"h5"),e.\u0275\u0275text(5,"Lugares"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(6,"nb-route-tabset",3),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(6),e.\u0275\u0275property("tabs",i.tabs))},dependencies:[o.Asz,o.ndF,o.l0$],encapsulation:2}),r})();var G=a(41288),O=a(45660);const Q=[{path:"",component:$,children:[{path:"",component:T.C},{path:"residentes",component:g.o,data:{status:["A"]}},{path:"residentes/pendientes",component:g.o,data:{status:["P"]}},{path:"residentes/inactivos",component:g.o,data:{status:["I","R","E"]}},{path:"primario-secundario",component:N},{path:"anuncios",component:G.n},{path:"reportes",component:O.b},{path:"chat",loadChildren:()=>Promise.resolve().then(a.bind(a,11459)).then(r=>r.ChatModule)}]}];let H=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=e.\u0275\u0275defineInjector({imports:[p.Bz.forChild(Q),I.ez,p.Bz]}),r})(),J=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=e.\u0275\u0275defineInjector({imports:[F.O,H,o.zyh,o.j5J,o._WB]}),r})()}}]);