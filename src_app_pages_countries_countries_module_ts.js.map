{"version":3,"file":"src_app_pages_countries_countries_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AAGA;AACA;;;;;;AAOM,MAAOI,sBAAP,CAA6B;EAuClCC,YACSC,OADT,EAESC,eAFT,EAGSC,cAHT,EAISC,cAJT,EAIwC;IAH/B;IACA;IACA;IACA;IAzCT,gBAAW;MACVC,OAAO,EAAE;QACRC,QAAQ,EAAE,OADF;QAERC,GAAG,EAAE,KAFG;QAGRC,IAAI,EAAE,KAHE;QAIRC,MAAM,EAAE,KAJA;QAKRC,MAAM,EAAE,CACP;UACCC,IAAI,EAAE,MADP;UAECC,KAAK,EAAE;QAFR,CADO,EAKP;UACCD,IAAI,EAAE,QADP;UAECC,KAAK,EAAE;QAFR,CALO;MALA,CADC;MAiBVC,OAAO,EAAE;QACRC,MAAM,EAAE;UACPF,KAAK,EAAE,QADA;UAEPG,IAAI,EAAE;QAFC,CADA;QAKRC,MAAM,EAAE;UACPJ,KAAK,EAAE,QADA;UAEPG,IAAI,EAAE,QAFC;UAGPE,eAAe,EAAEnB,sFAHV;UAIPoB,uBAAuB,EAAGC,QAAD,IAAkB;YAC1CA,QAAQ,CAACC,MAAT,CAAgBC,SAAhB,CAA0BC,KAAK,IAAG;cACjC,MAAMC,MAAM,GAAGD,KAAK,CAACE,KAAN,GAAc,GAAd,GAAoB,GAAnC;cACA,KAAKC,YAAL,CAAkBH,KAAK,CAACI,GAAN,CAAUC,OAA5B,EAAqCJ,MAArC;YACA,CAHD;UAIA;QATM;MALA;IAjBC,CAAX;IAmCA,cAA0B,IAAI3B,4DAAJ,EAA1B;IAQC,KAAKgC,YAAL;EACA;;EAEDA,YAAY;IAAA;;IACX,KAAK1B,eAAL,CAAqB2B,MAArB,CAA4B;MAAEC,UAAU,EAAE;IAAd,CAA5B,EACET,SADF,CACY;MACVU,IAAI;QAAA,wKAAE,WAAOC,QAAP,EAAmC;UACxC,MAAMC,IAAI,GAAGD,QAAQ,CAACE,MAAT,CAAgBC,CAAC,IAAIA,CAAC,CAACnB,MAAF,IAAY,GAAjC,CAAb;;UACA,KAAI,CAACoB,MAAL,CAAYC,IAAZ,CAAiBJ,IAAjB;QACA,CAHG;;QAAA;UAAA;QAAA;MAAA,GADM;MAKVK,KAAK,EAAGA,KAAD,IAAU;QAChBC,OAAO,CAACD,KAAR,CAAcA,KAAd;MACA;IAPS,CADZ;EAUA;;EAED/B,GAAG;IACF,KAAKN,OAAL,CAAauC,QAAb,CAAsB,CAAC,qBAAD,CAAtB;EACA;;EAEDC,QAAQ,CAACnB,KAAD,EAAW;IAClB,QAAQA,KAAK,CAACoB,MAAd;MACC,KAAK,MAAL;QACC,KAAKzC,OAAL,CAAauC,QAAb,CAAsB,CAAC,wBAAwBlB,KAAK,CAACW,IAAN,CAAWN,OAAO,EAA3C,CAAtB;;QACA;;MAED,KAAK,QAAL;QACC,KAAKgB,QAAL,CAAcrB,KAAK,CAACW,IAAN,CAAWN,OAAzB;QACA;;MAED;QACC;IAVF;EAYA;;EAEDgB,QAAQ,CAACnB,KAAD,EAAc;IACrB,KAAKrB,cAAL,CAAoByC,IAApB,CAAyB/C,wGAAzB,EAAgD;MAC/CgD,OAAO,EAAE;QACRjC,KAAK,EAAE;MADC;IADsC,CAAhD,EAIGkC,OAJH,CAIWzB,SAJX,CAIqB;MACpBU,IAAI,EAAGC,QAAQ,IAAG;QACjB,IAAIA,QAAJ,EAAc;UACb,KAAKe,aAAL,CAAmBvB,KAAnB;QACA;MACD;IALmB,CAJrB;EAWA;;EAEDC,YAAY,CAACuB,SAAD,EAAiBzB,MAAjB,EAA+B;IAC1C,MAAM0B,MAAM,GAAG;MACdtB,OAAO,EAAEqB,SADK;MAEdhC,MAAM,EAAEO,MAFM;MAGd2B,oBAAoB,EAAE;IAHR,CAAf;;IAKA,KAAKhD,eAAL,CAAqBuB,YAArB,CAAkCwB,MAAlC,EACE5B,SADF,CACY;MACVU,IAAI,EAAE,MAAK;QACV,KAAKoB,SAAL,CAAe,SAAf,EAA0B,4BAA1B;MACA,CAHS;MAIVb,KAAK,EAAE,MAAK;QACX,KAAKa,SAAL,CAAe,QAAf,EAAyB,0CAAzB;MACA;IANS,CADZ;EASA;;EAEDJ,aAAa,CAACC,SAAD,EAAkB;IAC9B,MAAMC,MAAM,GAAG;MACdtB,OAAO,EAAEqB,SADK;MAEdE,oBAAoB,EAAE;IAFR,CAAf;;IAIA,KAAKhD,eAAL,CAAqBO,MAArB,CAA4BwC,MAA5B,EACE5B,SADF,CACY;MACVU,IAAI,EAAE,MAAK;QACV,KAAKoB,SAAL,CAAe,SAAf,EAA0B,gBAA1B;QACA,KAAKvB,YAAL;MACA,CAJS;MAKVU,KAAK,EAAE,MAAK;QACX,KAAKa,SAAL,CAAe,QAAf,EAAyB,2BAAzB;MACA;IAPS,CADZ;EAUA;;EAEDA,SAAS,CAACpC,IAAD,EAAeqC,IAAf,EAA2B;IACnC,MAAMC,MAAM,GAAG;MACd9B,MAAM,EAAER,IADM;MAEduC,cAAc,EAAE,IAFF;MAGdC,QAAQ,EAAE,IAHI;MAIdC,OAAO,EAAE,KAJK;MAKdlD,QAAQ,EAAEX,8EALI;MAMd+D,iBAAiB,EAAE;IANL,CAAf;;IASA,KAAKtD,cAAL,CAAoBuD,IAApB,CAAyB,EAAzB,EAA6BP,IAA7B,EAAmCC,MAAnC;EACA;;AA3IiC;;;mBAAtBtD,wBAAsB6D,+DAAAA,CAAAA,mDAAAA,GAAAA,+DAAAA,CAAAA,0EAAAA,GAAAA,+DAAAA,CAAAA,2DAAAA,GAAAA,+DAAAA,CAAAA,2DAAAA;AAAA;;;QAAtB7D;EAAsB8D;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCdnCL,4DAAAA,eAAS,CAAT,EAAS,gBAAT,EAAS,CAAT,EAAS,CAAT,EAAS,IAAT;MAEMA,oDAAAA;MAAMA,0DAAAA;MACVA,4DAAAA,cAAc,CAAd,EAAc,QAAd,EAAc,CAAd;MACqCA,wDAAAA;QAAA,OAASM,SAAT;MAAc,CAAd;MACnCN,oDAAAA;MACAA,0DAAAA;MAIHA,4DAAAA,oBAAc,CAAd,EAAc,iBAAd,EAAc,CAAd;MAIEA,wDAAAA;QAAA,OAAUM,oBAAV;MAA0B,CAA1B;MACDN,0DAAAA;;;;MAHCA,uDAAAA;MAAAA,wDAAAA,2BAAqB,QAArB,EAAqBM,UAArB;;;;;;;;;;;;;;;;;;;;;;;;ACXoD;AAC4B;AACxB;AACkB;;;AAE7E,MAAM,MAAM,GAAW;IACtB;QACC,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,oEAAkB;QAC7B,QAAQ,EAAE;YACT;gBACC,IAAI,EAAE,EAAE;gBACR,SAAS,EAAE,4FAAsB;aACjC;YACD;gBACC,IAAI,EAAE,OAAO;gBACb,SAAS,EAAE,sFAAoB;aAC/B;YACD;gBACC,IAAI,EAAE,YAAY;gBAClB,SAAS,EAAE,sFAAoB;aAC/B;SACD;KACD;CACD,CAAC;AAWK,MAAM,sBAAsB;;4FAAtB,sBAAsB;mHAAtB,sBAAsB;uHANjC,kEAAqB,CAAC,MAAM,CAAC,EAG7B,yDAAY;mIAGD,sBAAsB,oFAHjC,yDAAY;;;;;;;;;;;;;;;;;;;AC3BP,MAAM,kBAAkB;IAE9B,gBAAgB,CAAC;;oFAFL,kBAAkB;gHAAlB,kBAAkB;QAFnB,2EAA+B;;;;;;;;;;;;;;;;;;;;;;;;;;ACHI;AACY;AACwB;AACN;AACiB;AACe;AACvD;AACc;AACf;;AAoB9C,MAAM,eAAe;;8EAAf,eAAe;4GAAf,eAAe;gHAV1B,yDAAY;QACZ,6EAAsB;QACtB,+DAAmB;QACnB,yDAAa;QACb,wDAAY;QACZ,gEAAmB;QACnB,0DAAc;QACd,0DAAc;mIAGH,eAAe,mBAhB1B,oEAAkB;QAClB,4FAAsB;QACtB,sFAAoB;QACpB,sGAAsB,aAGtB,yDAAY;QACZ,6EAAsB;QACtB,+DAAmB;QACnB,yDAAa;QACb,wDAAY;QACZ,gEAAmB;QACnB,0DAAc;QACd,0DAAc;;;;;;;;;;;;;;;;;;;;;;;ACzBoD;AAGO;AACrB;;;;;;;;;;IC4ClD,wEAAgC;IAC/B,0EAAuD;IAClD,qEAAU;IAAA,4DAAK;IACnB,0EAAc;IACuB,4SAAS,sEAAK,KAAC;IAClD,kEACD;IAAA,4DAAS;IAGX,oFAAiE;IAClE,qEAAe;;;IADM,0DAAuB;IAAvB,uFAAuB;;AD7CzC,MAAM,oBAAoB;IAahC,YACS,OAAe,EACf,YAAyB,EACzB,eAA+B,EAC/B,eAA+B,EAC/B,cAA+B,EAC/B,SAAmB;QALnB,YAAO,GAAP,OAAO,CAAQ;QACf,iBAAY,GAAZ,YAAY,CAAa;QACzB,oBAAe,GAAf,eAAe,CAAgB;QAC/B,oBAAe,GAAf,eAAe,CAAgB;QAC/B,mBAAc,GAAd,cAAc,CAAiB;QAC/B,cAAS,GAAT,SAAS,CAAU;QAd5B,cAAS,GAAe,EAAE,CAAC;QAC3B,kBAAa,GAAe;YAC3B,EAAE,GAAG,EAAE,QAAQ,EAAE,KAAK,EAAE,8DAAa,EAAE;YACvC,EAAE,GAAG,EAAE,UAAU,EAAE,KAAK,EAAE,gEAAe,EAAE;YAC3C,EAAE,GAAG,EAAE,WAAW,EAAE,KAAK,EAAE,iEAAgB,EAAE;SAC7C,CAAC;QAWD,IAAI,CAAC,eAAe,CAAC,MAAM;aACzB,SAAS,CAAC,KAAK,CAAC,EAAE;YAClB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC,EAAE,CAAC;QAC3B,CAAC,CAAC,CAAC;QAEJ,IAAI,CAAC,QAAQ,EAAE,CAAC;IACjB,CAAC;IAED,QAAQ;QACP,IAAI,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE;YACrB,IAAI,CAAC,UAAU,EAAE,CAAC;YAClB,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC;SACvB;aAAM;YACN,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC;SACtB;IACF,CAAC;IAED,QAAQ;QACP,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CACzC;YACC,MAAM,EAAE,CAAC,EAAE,EAAE,+DAAmB,CAAC;YACjC,MAAM,EAAE,CAAC,EAAE,CAAC;YACZ,gBAAgB,EAAE,CAAC,OAAO,EAAE,+DAAmB,CAAC;SAChD,CACD,CAAC;IACH,CAAC;IAED,UAAU;QACT,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,SAAS,EAAE,CAAC;aACvD,SAAS,CAAC;YACV,IAAI,EAAE,CAAC,QAAQ,EAAE,EAAE;gBAClB,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;gBACtC,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC,MAAM,CAAC;YACvC,CAAC;YACD,KAAK,EAAE,CAAC,KAAK,EAAE,EAAE;gBAChB,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YACtB,CAAC;SACD,CAAC,CAAC;IACL,CAAC;IAED,IAAI;QACH,IAAI,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE;YACrB,IAAI,CAAC,MAAM,EAAE,CAAC;SACd;aAAM;YACN,IAAI,CAAC,MAAM,EAAE,CAAC;SACd;IACF,CAAC;IAED,MAAM;QACL,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;aACjD,SAAS,CAAC;YACV,IAAI,EAAE,CAAC,QAAQ,EAAE,EAAE;gBAClB,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,aAAa,CAAC,CAAC;gBACzC,IAAI,CAAC,MAAM,EAAE,CAAC;YACf,CAAC;YACD,KAAK,EAAE,CAAC,KAAK,EAAE,EAAE;gBAChB,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,0CAA0C,CAAC,CAAC;YACtE,CAAC;SACD,CAAC,CAAC;IACL,CAAC;IAED,MAAM;QACL,MAAM,MAAM,GAAG;YACd,OAAO,EAAE,IAAI,CAAC,SAAS;YACvB,MAAM,EAAE,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM;YACrC,oBAAoB,EAAE,OAAO;SAC7B,CAAC;QACF,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,MAAM,CAAC;aACjC,SAAS,CAAC;YACV,IAAI,EAAE,GAAG,EAAE;gBACV,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,kBAAkB,CAAC,CAAC;YAC/C,CAAC;YACD,KAAK,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,0CAA0C,CAAC,CAAC;YACtE,CAAC;SACD,CAAC,CAAC;IACL,CAAC;IAED,YAAY,CAAC,MAAc;QAC1B,IAAI,MAAM,KAAK,IAAI,CAAC,cAAc,EAAE;YACnC,IAAI,CAAC,cAAc,GAAG,MAAM,CAAC;YAC7B,MAAM,MAAM,GAAG;gBACd,OAAO,EAAE,IAAI,CAAC,SAAS;gBACvB,MAAM,EAAE,MAAM;gBACd,oBAAoB,EAAE,OAAO;aAC7B,CAAC;YACF,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,MAAM,CAAC;iBACxC,SAAS,CAAC;gBACV,IAAI,EAAE,GAAG,EAAE;oBACV,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,4BAA4B,CAAC,CAAC;gBACzD,CAAC;gBACD,KAAK,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,qCAAqC,CAAC,CAAC;gBACjE,CAAC;aACD,CAAC,CAAC;SACH;IACF,CAAC;IAED,SAAS,CAAC,IAAY,EAAE,IAAY;QACnC,MAAM,MAAM,GAAG;YACd,MAAM,EAAE,IAAI;YACZ,cAAc,EAAE,IAAI;YACpB,QAAQ,EAAE,IAAI;YACd,OAAO,EAAE,KAAK;YACd,QAAQ,EAAE,8EAAkC;YAC5C,iBAAiB,EAAE,IAAI;SACvB,CAAC;QAEF,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;IAC5C,CAAC;IAED,GAAG;QACF,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,kCAAkC,IAAI,CAAC,SAAS,EAAE,CAAC;IAC/E,CAAC;IAED,MAAM;QACL,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;IAC1C,CAAC;;wFA1IW,oBAAoB;kHAApB,oBAAoB;QCbjC,yEAAiB;QAKmC,uIAAS,YAAQ,IAAC;QAChE,kEAAyC;QAC1C,4DAAI;QACJ,qEAAI;QAAA,uDAAe;QAAA,4DAAK;QAEzB,sEAAK;QACgC,6IAAS,UAAM,IAAC;QACnD,qEACD;QAAA,4DAAS;QAGX,gFAAc;QAK8B,kEAAM;QAAA,4DAAQ;QACrD,wEAK0B;QAC3B,4DAAM;QAqBT,qIAUe;QAChB,4DAAe;;QApDT,0DAAe;QAAf,8FAAe;QASd,0DAAyB;QAAzB,sFAAyB;QAgChB,0DAAe;QAAf,+EAAe","sources":["./src/app/pages/countries/countries-list/countries-list.component.ts","./src/app/pages/countries/countries-list/countries-list.component.html","./src/app/pages/countries/countries-routing.module.ts","./src/app/pages/countries/countries.component.ts","./src/app/pages/countries/countries.module.ts","./src/app/pages/countries/country-form/country-form.component.ts","./src/app/pages/countries/country-form/country-form.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { NbDialogService, NbGlobalPhysicalPosition, NbToastrService } from '@nebular/theme';\r\nimport { LocalDataSource } from 'ng2-smart-table';\r\nimport { Country } from '../../../@core/models/country';\r\nimport { CountryService } from '../../../@core/services/country.service';\r\nimport { ConfirmationComponent } from '../../../@theme/components/confirmation/confirmation.component';\r\nimport { StatusComponent } from '../../../@theme/components/status/status.component';\r\n\r\n@Component({\r\n\tselector: 'ngx-countries-list',\r\n\ttemplateUrl: './countries-list.component.html',\r\n\tstyleUrls: ['./countries-list.component.scss']\r\n})\r\nexport class CountriesListComponent {\r\n\r\n\tsettings = {\r\n\t\tactions: {\r\n\t\t\tposition: 'right',\r\n\t\t\tadd: false,\r\n\t\t\tedit: false,\r\n\t\t\tdelete: false,\r\n\t\t\tcustom: [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'edit',\r\n\t\t\t\t\ttitle: '<i class=\"nb-edit\"></i>'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'delete',\r\n\t\t\t\t\ttitle: '<i class=\"nb-trash\"></i>'\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\tcolumns: {\r\n\t\t\tnombre: {\r\n\t\t\t\ttitle: 'Nombre',\r\n\t\t\t\ttype: 'string'\r\n\t\t\t},\r\n\t\t\testado: {\r\n\t\t\t\ttitle: 'Estado',\r\n\t\t\t\ttype: 'custom',\r\n\t\t\t\trenderComponent: StatusComponent,\r\n\t\t\t\tonComponentInitFunction: (instance: any) => {\r\n\t\t\t\t\tinstance.toggle.subscribe(event => {\r\n\t\t\t\t\t\tconst status = event.value ? 'A' : 'I';\r\n\t\t\t\t\t\tthis.updateStatus(event.row.id_pais, status);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tsource: LocalDataSource = new LocalDataSource();\r\n\r\n\tconstructor(\r\n\t\tprivate _router: Router,\r\n\t\tprivate _countryService: CountryService,\r\n\t\tprivate _dialogService: NbDialogService,\r\n\t\tprivate _toastrService: NbToastrService\r\n\t) {\r\n\t\tthis.getCountries();\r\n\t}\r\n\r\n\tgetCountries(): void {\r\n\t\tthis._countryService.getAll({ id_usuario: \"1\" })\r\n\t\t\t.subscribe({\r\n\t\t\t\tnext: async (response: Array<Country>) => {\r\n\t\t\t\t\tconst data = response.filter(x => x.estado != 'E');\r\n\t\t\t\t\tthis.source.load(data);\r\n\t\t\t\t},\r\n\t\t\t\terror: (error) => {\r\n\t\t\t\t\tconsole.error(error);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tadd(): void {\r\n\t\tthis._router.navigate(['/pages/paises/crear'])\r\n\t}\r\n\r\n\tonCustom(event: any): void {\r\n\t\tswitch (event.action) {\r\n\t\t\tcase 'edit':\r\n\t\t\t\tthis._router.navigate([`/pages/paises/editar/${event.data.id_pais}`]);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'delete':\r\n\t\t\t\tthis.onDelete(event.data.id_pais);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tonDelete(value: number): void {\r\n\t\tthis._dialogService.open(ConfirmationComponent, {\r\n\t\t\tcontext: {\r\n\t\t\t\ttitle: '¿Está seguro de eliminar el registro?',\r\n\t\t\t},\r\n\t\t}).onClose.subscribe({\r\n\t\t\tnext: (response => {\r\n\t\t\t\tif (response) {\r\n\t\t\t\t\tthis.deleteCountry(value);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t}\r\n\r\n\tupdateStatus(countryId: any, status: string): void {\r\n\t\tconst params = {\r\n\t\t\tid_pais: countryId,\r\n\t\t\testado: status,\r\n\t\t\tusuario_modificacion: 'admin'\r\n\t\t};\r\n\t\tthis._countryService.updateStatus(params)\r\n\t\t\t.subscribe({\r\n\t\t\t\tnext: () => {\r\n\t\t\t\t\tthis.showToast('success', 'Estado de país actualizado');\r\n\t\t\t\t},\r\n\t\t\t\terror: () => {\r\n\t\t\t\t\tthis.showToast('danger', 'Ha ocurrido un error. Intente nuevamente');\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\tdeleteCountry(countryId: number): void {\r\n\t\tconst params = {\r\n\t\t\tid_pais: countryId,\r\n\t\t\tusuario_modificacion: 'admin'\r\n\t\t};\r\n\t\tthis._countryService.delete(params)\r\n\t\t\t.subscribe({\r\n\t\t\t\tnext: () => {\r\n\t\t\t\t\tthis.showToast('success', 'País eliminado');\r\n\t\t\t\t\tthis.getCountries();\r\n\t\t\t\t},\r\n\t\t\t\terror: () => {\r\n\t\t\t\t\tthis.showToast('danger', 'Error al eliminar el país');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tshowToast(type: string, text: string): void {\r\n\t\tconst config = {\r\n\t\t\tstatus: type,\r\n\t\t\tdestroyByClick: true,\r\n\t\t\tduration: 3000,\r\n\t\t\thasIcon: false,\r\n\t\t\tposition: NbGlobalPhysicalPosition.TOP_RIGHT,\r\n\t\t\tpreventDuplicates: true,\r\n\t\t};\r\n\r\n\t\tthis._toastrService.show('', text, config);\r\n\t}\r\n\r\n}\r\n","<nb-card>\r\n\t<nb-card-header class=\"w-100 d-flex justify-content-between\">\r\n\t\t<h5>Países</h5>\r\n\t\t<div class=\"\">\r\n\t\t\t<button nbButton status=\"info\" hero (click)=\"add()\">\r\n\t\t\t\tNuevo\r\n  \t\t</button>\r\n\t\t</div>\r\n\t</nb-card-header>\r\n\r\n\t<nb-card-body>\r\n\t\t<ng2-smart-table class=\"custom-table\" \r\n\t\t\t[settings]=\"settings\" \r\n\t\t\t[source]=\"source\" \r\n\t\t\t(custom)=\"onCustom($event)\">\r\n\t\t</ng2-smart-table>\r\n\t</nb-card-body>\r\n</nb-card>\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { CountriesListComponent } from './countries-list/countries-list.component';\r\nimport { CountriesComponent } from './countries.component';\r\nimport { CountryFormComponent } from './country-form/country-form.component';\r\n\r\nconst routes: Routes = [\r\n\t{\r\n\t\tpath: '',\r\n\t\tcomponent: CountriesComponent,\r\n\t\tchildren: [\r\n\t\t\t{\r\n\t\t\t\tpath: '',\r\n\t\t\t\tcomponent: CountriesListComponent\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: 'crear',\r\n\t\t\t\tcomponent: CountryFormComponent\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: 'editar/:id',\r\n\t\t\t\tcomponent: CountryFormComponent\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n];\r\n\r\n@NgModule({\r\n\tdeclarations: [],\r\n\timports: [\r\n\t\tRouterModule.forChild(routes)\r\n\t],\r\n\texports: [\r\n\t\tRouterModule\r\n\t]\r\n})\r\nexport class CountriesRoutingModule { }","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n\tselector: 'ngx-countries',\r\n\ttemplate: `<router-outlet></router-outlet>`\r\n})\r\nexport class CountriesComponent {\r\n\r\n\tconstructor() { }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CountriesComponent } from './countries.component';\r\nimport { CountriesListComponent } from './countries-list/countries-list.component';\r\nimport { CountryFormComponent } from './country-form/country-form.component';\r\nimport { ProvincesListComponent } from '../provinces/provinces-list/provinces-list.component';\r\nimport { NbButtonModule, NbCardModule, NbInputModule, NbSelectModule, NbToggleModule } from '@nebular/theme';\r\nimport { Ng2SmartTableModule } from 'ng2-smart-table';\r\nimport { CountriesRoutingModule } from './countries-routing.module';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\n\r\n@NgModule({\r\n\tdeclarations: [\r\n\t\tCountriesComponent,\r\n\t\tCountriesListComponent,\r\n\t\tCountryFormComponent,\r\n\t\tProvincesListComponent\r\n\t],\r\n\timports: [\r\n\t\tCommonModule,\r\n\t\tCountriesRoutingModule,\r\n\t\tReactiveFormsModule,\r\n\t\tNbInputModule,\r\n\t\tNbCardModule,\r\n\t\tNg2SmartTableModule,\r\n\t\tNbButtonModule,\r\n\t\tNbSelectModule\r\n\t]\r\n})\r\nexport class CountriesModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Location } from \"@angular/common\";\r\nimport { NbGlobalPhysicalPosition, NbToastrService } from '@nebular/theme';\r\nimport { Status } from '../../../@core/models/status';\r\nimport { CountryService } from '../../../@core/services/country.service';\r\n\r\n@Component({\r\n\tselector: 'ngx-country-form',\r\n\ttemplateUrl: './country-form.component.html',\r\n\tstyleUrls: ['./country-form.component.scss']\r\n})\r\nexport class CountryFormComponent implements OnInit {\r\n\r\n\taction: string;\r\n\tcountryId: any;\r\n\tcountryForm: FormGroup;\r\n\tprovinces: Array<any> = [];\r\n\tstatusOptions: Array<any> = [\r\n\t\t{ key: 'Activo', value: Status.ACTIVO },\r\n\t\t{ key: 'Inactivo', value: Status.INACTIVO },\r\n\t\t{ key: 'Pendiente', value: Status.PENDIENTE }\r\n\t];\r\n\tselectedStatus: string;\r\n\r\n\tconstructor(\r\n\t\tprivate _router: Router,\r\n\t\tprivate _formBuilder: FormBuilder,\r\n\t\tprivate _activatedRoute: ActivatedRoute,\r\n\t\tprivate _countryService: CountryService,\r\n\t\tprivate _toastrService: NbToastrService,\r\n\t\tprivate _location: Location\r\n\t) {\r\n\t\tthis._activatedRoute.params\r\n\t\t\t.subscribe(param => {\r\n\t\t\t\tthis.countryId = param.id;\r\n\t\t\t});\r\n\r\n\t\tthis.initForm();\r\n\t}\r\n\r\n\tngOnInit(): void {\r\n\t\tif (!!this.countryId) {\r\n\t\t\tthis.getCountry();\r\n\t\t\tthis.action = 'Editar';\r\n\t\t} else {\r\n\t\t\tthis.action = 'Crear';\r\n\t\t}\r\n\t}\r\n\r\n\tinitForm(): void {\r\n\t\tthis.countryForm = this._formBuilder.group(\r\n\t\t\t{\r\n\t\t\t\tnombre: ['', Validators.required],\r\n\t\t\t\testado: [''],\r\n\t\t\t\tusuario_creacion: ['admin', Validators.required]\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tgetCountry(): void {\r\n\t\tthis._countryService.getById({ id_pais: this.countryId })\r\n\t\t\t.subscribe({\r\n\t\t\t\tnext: (response) => {\r\n\t\t\t\t\tthis.countryForm.patchValue(response);\r\n\t\t\t\t\tthis.selectedStatus = response.estado;\r\n\t\t\t\t},\r\n\t\t\t\terror: (error) => {\r\n\t\t\t\t\tconsole.error(error);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tsave(): void {\r\n\t\tif (!!this.countryId) {\r\n\t\t\tthis.update();\r\n\t\t} else {\r\n\t\t\tthis.create();\r\n\t\t}\r\n\t}\r\n\r\n\tcreate(): void {\r\n\t\tthis._countryService.create(this.countryForm.value)\r\n\t\t\t.subscribe({\r\n\t\t\t\tnext: (response) => {\r\n\t\t\t\t\tthis.showToast('success', 'País creado');\r\n\t\t\t\t\tthis.goBack();\r\n\t\t\t\t},\r\n\t\t\t\terror: (error) => {\r\n\t\t\t\t\tthis.showToast('danger', 'Ha ocurrido un error. Intente nuevamente');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tupdate(): void {\r\n\t\tconst params = {\r\n\t\t\tid_pais: this.countryId,\r\n\t\t\tnombre: this.countryForm.value.nombre,\r\n\t\t\tusuario_modificacion: 'admin'\r\n\t\t};\r\n\t\tthis._countryService.update(params)\r\n\t\t\t.subscribe({\r\n\t\t\t\tnext: () => {\r\n\t\t\t\t\tthis.showToast('success', 'País actualizado');\r\n\t\t\t\t},\r\n\t\t\t\terror: () => {\r\n\t\t\t\t\tthis.showToast('danger', 'Ha ocurrido un error. Intente nuevamente');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tchangeStatus(status: string): void {\r\n\t\tif (status !== this.selectedStatus) {\r\n\t\t\tthis.selectedStatus = status;\r\n\t\t\tconst params = {\r\n\t\t\t\tid_pais: this.countryId,\r\n\t\t\t\testado: status,\r\n\t\t\t\tusuario_modificacion: 'admin'\r\n\t\t\t};\r\n\t\t\tthis._countryService.updateStatus(params)\r\n\t\t\t.subscribe({\r\n\t\t\t\tnext: () => {\r\n\t\t\t\t\tthis.showToast('success', '¡Se ha cambiado el estado!');\r\n\t\t\t\t},\r\n\t\t\t\terror: () => {\r\n\t\t\t\t\tthis.showToast('danger', '¡No se ha podido cambiar el estado!');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tshowToast(type: string, text: string): void {\r\n\t\tconst config = {\r\n\t\t\tstatus: type,\r\n\t\t\tdestroyByClick: true,\r\n\t\t\tduration: 3000,\r\n\t\t\thasIcon: false,\r\n\t\t\tposition: NbGlobalPhysicalPosition.TOP_RIGHT,\r\n\t\t\tpreventDuplicates: true,\r\n\t\t};\r\n\r\n\t\tthis._toastrService.show('', text, config);\r\n\t}\r\n\r\n\tadd(): void {\r\n\t\tthis._router.navigateByUrl(`/pages/provincias/crear?idPais=${this.countryId}`)\r\n\t}\r\n\r\n\tgoBack(): void {\r\n\t\tthis._router.navigate(['/pages/paises']);\r\n\t}\r\n\r\n}\r\n","<div class=\"row\">\r\n\t<div class=\"col-lg-12\">\r\n\t\t<nb-card>\r\n\t\t\t<nb-card-header class=\"w-100 d-flex justify-content-between\">\r\n\t\t\t\t<div class=\"d-flex align-items-center h5\">\r\n\t\t\t\t\t<a class=\"d-flex cursor-pointer no-hover pr-2\" (click)=\"goBack()\">\r\n\t\t\t\t\t\t<i class=\"custom-icon nb-arrow-left\"></i>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t<h5>{{action}} País</h5>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<button nbButton status=\"info\" hero (click)=\"save()\">\r\n\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</nb-card-header>\r\n\t\t\t<nb-card-body>\r\n\t\t\t\t<form [formGroup]=\"countryForm\">\r\n\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t<div class=\"col-sm-4\">\r\n\t\t\t\t\t\t\t<div class=\"form-group\">\r\n\t\t\t\t\t\t\t\t<label for=\"inputNombre\" class=\"label\">Nombre</label>\r\n\t\t\t\t\t\t\t\t<input type=\"text\"\r\n\t\t\t\t\t\t\t\t\tnbInput \r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tid=\"inputNombre\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Nombre\"\r\n\t\t\t\t\t\t\t\t\tformControlName=\"nombre\">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- <div class=\"col-sm-4\">\r\n\t\t\t\t\t\t\t<div class=\"form-group\">\r\n\t\t\t\t\t\t\t\t<label for=\"inputEstado\" class=\"label\">Estado</label>\r\n\t\t\t\t\t\t\t\t<nb-select fullWidth\r\n\t\t\t\t\t\t\t\t\tid=\"inputEstado\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Seleccione una opción\"\r\n\t\t\t\t\t\t\t\t\tformControlName=\"estado\"\r\n\t\t\t\t\t\t\t\t\t(selectedChange)=\"changeStatus($event)\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<nb-option *ngFor=\"let item of statusOptions\" [value]=\"item.value\">\r\n\t\t\t\t\t\t\t\t\t\t{{item.key}}\r\n\t\t\t\t\t\t\t\t\t</nb-option>\r\n\t\t\t\t\t\t\t\t</nb-select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div> -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\r\n\t\t\t\t<!-- Provincias -->\r\n\t\t\t\t<ng-container *ngIf=\"countryId\">\r\n\t\t\t\t\t<div class=\"w-100 d-flex justify-content-between py-3\">\r\n\t\t\t\t\t\t<h6>Provincias</h6>\r\n\t\t\t\t\t\t<div class=\"\">\r\n\t\t\t\t\t\t\t<button nbButton status=\"info\" hero (click)=\"add()\">\r\n\t\t\t\t\t\t\t\tNuevo\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<ngx-provinces-list [countryId]=\"countryId\"></ngx-provinces-list>\r\n\t\t\t\t</ng-container>\r\n\t\t\t</nb-card-body>\r\n\t\t</nb-card>\r\n\t</div>\r\n</div>\r\n"],"names":["NbGlobalPhysicalPosition","LocalDataSource","ConfirmationComponent","StatusComponent","CountriesListComponent","constructor","_router","_countryService","_dialogService","_toastrService","actions","position","add","edit","delete","custom","name","title","columns","nombre","type","estado","renderComponent","onComponentInitFunction","instance","toggle","subscribe","event","status","value","updateStatus","row","id_pais","getCountries","getAll","id_usuario","next","response","data","filter","x","source","load","error","console","navigate","onCustom","action","onDelete","open","context","onClose","deleteCountry","countryId","params","usuario_modificacion","showToast","text","config","destroyByClick","duration","hasIcon","TOP_RIGHT","preventDuplicates","show","i0","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}